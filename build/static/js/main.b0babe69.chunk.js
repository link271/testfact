(this.webpackJsonpactfact=this.webpackJsonpactfact||[]).push([[0],{213:function(e,t,a){},232:function(e,t,a){},268:function(e,t,a){e.exports=a(536)},274:function(e,t,a){},278:function(e,t,a){},473:function(e,t){},519:function(e,t,a){},521:function(e,t,a){},535:function(e,t,a){},536:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(4),i=a.n(s),l=(a(273),a(274),a(41)),o=a(12),c=(a(65),a(15)),u=(a(142),a(61)),d=(a(111),a(24)),m=a(92),p=a(17),h=a(18),v=a(37),f=a(20),g=a(19),E=(a(278),a(538)),w=a(540),b=a(26),y=a.n(b),C=(a(187),a(136)),k=(a(143),a(16)),O=a(27),S=a(64),_=a(539),N={required:"${label} is required!",types:{email:"Invalid E-Mail!"}};function j(e){return e?/^[a-zA-Z]+$/.test(e)?{validateStatus:"success",errorMsg:null}:{validateStatus:"error",errorMsg:"This field should have only characters"}:{validateStatus:"error",errorMsg:"This field required!"}}var x=function(e){var t=e.visible,a=e.onCreate,s=(e.onCancel,Object(n.useState)({value:""})),i=Object(S.a)(s,2),l=i[0],o=i[1],c=Object(n.useState)({value:""}),u=Object(S.a)(c,2),m=u[0],p=u[1],h=Object(n.useState)({value:""}),v=Object(S.a)(h,2),f=v[0],g=v[1],b=Object(n.useState)({value1:"",value2:""}),y=Object(S.a)(b,2),x=y[0],D=y[1];function I(e,t){D(Object(O.a)(Object(O.a)({},function(e,t){return t||e?t===e?{validateStatus:"success",errorMsg:null}:{validateStatus:"error",errorMsg:"Passwords do not match"}:{validateStatus:"error",errorMsg:"Password is required!"}}(e,t)),{},{value1:e,value2:t}))}var M=k.a.useForm(),A=Object(S.a)(M,1)[0];return r.a.createElement(C.a,{okButtonProps:{className:"modal-button-ok"},cancelButtonProps:{className:"modal-button-cancel"},visible:t,title:"Registration",okText:"Create",cancelText:"Cancel",onCancel:function(e,t){p(Object(O.a)(Object(O.a)({},{validateStatus:"success",errorMsg:null}),{},{empty_val:""})),g(Object(O.a)(Object(O.a)({},{validateStatus:"success",errorMsg:null}),{},{empty_val:""})),D(Object(O.a)(Object(O.a)({},{validateStatus:"success",errorMsg:null}),{},{empty_val:""})),o(Object(O.a)(Object(O.a)({},{validateStatus:"success",errorMsg:null}),{},{empty_val:""})),A.resetFields(),e()},onOk:function(){A.validateFields().then((function(e){a(e),A.resetFields()})).catch((function(e){console.log("Validate Failed:",e)}))}},r.a.createElement("div",{id:"reg_warning"}),r.a.createElement(k.a,{name:"reg-form",validateMessages:N,className:"c-profile-form",id:"reg_form",form:A},r.a.createElement("div",{className:"input_wrapper"},r.a.createElement(k.a.Item,{name:"username",label:"Username",rules:[{required:!0}],validateStatus:m.validateStatus,help:m.errorMsg},r.a.createElement(d.a,{size:"large",name:"reg_username",className:"inpBox",onChange:function(e){var t=e.target.value;p(Object(O.a)(Object(O.a)({},j(t)),{},{value:t}))},suffix:r.a.createElement(E.a,null)}))),r.a.createElement("div",{className:"input_wrapper"},r.a.createElement(k.a.Item,{name:"name",label:"Name",rules:[{required:!0}],validateStatus:l.validateStatus,help:l.errorMsg},r.a.createElement(d.a,{size:"large",name:"reg_name",className:"inpBox",onChange:function(e){var t=e.target.value;o(Object(O.a)(Object(O.a)({},j(t)),{},{value:t}))},suffix:r.a.createElement(E.a,null)}))),r.a.createElement("div",{className:"input_wrapper"},r.a.createElement(k.a.Item,{name:"email",label:"Email",rules:[{required:!0}],validateStatus:f.validateStatus,help:f.errorMsg},r.a.createElement(d.a,{size:"large",name:"reg_email",className:"inpBox",onChange:function(e){var t=e.target.value;g(Object(O.a)(Object(O.a)({},function(e){return e?/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)?{validateStatus:"success",errorMsg:null}:{validateStatus:"error",errorMsg:"Invalid email"}:{validateStatus:"error",errorMsg:"Email is required!"}}(t)),{},{value:t}))},suffix:r.a.createElement(_.a,null)}))),r.a.createElement("div",{className:"input_wrapper"},r.a.createElement(k.a.Item,{name:"password",label:"Password",rules:[{required:!0}],validateStatus:x.validateStatus,help:x.errorMsg},r.a.createElement(d.a.Password,{size:"large",name:"reg_password",className:"inpBox",suffix:r.a.createElement(w.a,null),onChange:function(e){I(e.target.value,x.value2)}}))),r.a.createElement("div",{className:"input_wrapper"},r.a.createElement(k.a.Item,{name:"password2",label:"Repeat password",rules:[{required:!0}],validateStatus:x.validateStatus,help:x.errorMsg},r.a.createElement(d.a.Password,{size:"large",name:"reg_password2",className:"inpBox",suffix:r.a.createElement(w.a,null),onChange:function(e){I(x.value1,e.target.value)}})))))};function D(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}var I=function(){var e=Object(n.useState)(!1),t=Object(S.a)(e,2),a=t[0],s=t[1];return r.a.createElement("div",null,r.a.createElement(c.a,{className:"floatRight button",id:"register_button",onClick:function(){s(!0)}},"Register"),r.a.createElement(x,{id:"register_form",visible:a,onCreate:function(e){var t={username:D(e.username),password:D(e.password),full_name:D(e.name),email:D(e.email)},a=document.getElementById("reg_warning");y.a.post("http://95.217.183.106:3000/users",t).then((function(e){a.style.color="green",a.innerText="User created successfuly",setTimeout((function(){s(!1),a.innerHTML="",a.style.color="red"}),3e3)})).catch((function(e){a.innerText=e.response.data.error}))},onCancel:function(){s(!1)}}))},M=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).toggleCheck=function(e){n.setState({checked:e.target.checked})},n.state={username:"",password:"",remember:!1,loading:!1,error:"",modal:!1,reg_username:"",reg_password:"",reg_email:""},n.handleChange=n.handleChange.bind(Object(v.a)(n)),n.handleLogin=n.handleLogin.bind(Object(v.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=document.getElementById("username"),t=function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById("log_button").click())};e.addEventListener("keyup",t),(e=document.getElementById("password")).addEventListener("keyup",t),localStorage.getItem("ActFact token")&&this.props.history.push("/dashboard")}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(m.a)({},a,n));var r=this.state,s=r.username,i=r.password;s&&(document.getElementById("username").style.backgroundColor=null),i&&(document.getElementById("password").style.backgroundColor=null)}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.username,r=a.password;return n?r?(this.setState({loading:!0}),this.data={username:n,password:r},y.a.post("http://95.217.183.106:3000/auth",this.data).then((function(e){localStorage.setItem("ActFact token",e.data.token),t.props.history.push("/dashboard")})).catch((function(e){document.getElementById("warning").innerText=e.response.data.error})),void this.setState({loading:!1})):(document.getElementById("password").style.backgroundColor="#f4efef",void this.setState({error:"Password should not be empty"})):(document.getElementById("username").style.backgroundColor="#f4efef",void this.setState({error:"Username should not be empty"}))}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.password,n=(e.remember,e.loading);e.error,e.modal;return r.a.createElement("div",{className:"mainframe"},r.a.createElement("div",{className:"leftPicture"}),r.a.createElement("div",{className:"mainContainer"},r.a.createElement("div",{className:"headerPlaceholder col"}),r.a.createElement("div",{className:"centerBox col"},r.a.createElement("div",{className:"head1Wrapper col"},r.a.createElement("h1",null,"Welcome to ",r.a.createElement("span",{className:"textColorBlue"},"ActFact"))),r.a.createElement("div",{className:"head2Wrapper col"},r.a.createElement("h2",null,"Meet your ambitions with",r.a.createElement("br",null),r.a.createElement("span",{className:"textColorBrown"},"flexible")," and ",r.a.createElement("span",{className:"textColorBrown"},"scalable")," software")),r.a.createElement("div",{className:"credentialsWrapper col addPadding"},r.a.createElement("div",{className:"warningWrapper"},r.a.createElement("h5",{id:"warning"},this.state.error)),r.a.createElement(d.a,{id:"username",size:"large",name:"username",value:t,className:"inpBox",placeholder:"username",prefix:r.a.createElement(E.a,null),onInput:this.handleChange,onPressEnter:this.handleChange}),r.a.createElement(d.a.Password,{id:"password",size:"large",name:"password",value:a,className:"inpBox  inpBot",placeholder:"password",prefix:r.a.createElement(w.a,null),onInput:this.handleChange,onPressEnter:this.handleChange}),r.a.createElement("div",{className:"passOptions addPadding"},r.a.createElement("div",{className:"floatLeft"},r.a.createElement(u.a,{className:"rememberMe greyText",onChange:this.toggleCheck},"Remember me")),r.a.createElement("div",{className:"floatRight"},r.a.createElement("a",{className:"forgotPassword greyText",href:"https://www.youtube.com/watch?v=dQw4w9WgXcQ"},"Forgot password?")))),r.a.createElement("div",{className:"buttonsWrapper col"},r.a.createElement(c.a,{type:"primary",className:"floatLeft button",id:"log_button",onClick:this.handleLogin,disabled:n},"Login"),r.a.createElement("div",{className:"button_space"}),r.a.createElement(I,null))),r.a.createElement("div",{className:"preLogo col"}),r.a.createElement("div",{className:"logoSign col"})))}}]),a}(r.a.Component),A=(a(234),a(135)),B=(a(441),a(263)),z=a(34),T=a.n(z),W=a(62),L=(a(213),a(52)),F=function(){var e=localStorage.getItem("ActFact token");return function(t){return y.a.get("http://95.217.183.106:3000/boards",{headers:{Authorization:"Bearer "+e}}).then((function(e){t({type:"ADD_FETCHED_DATA",payload:e.data})})).catch((function(e){throw e}))}},R=function(e){var t=localStorage.getItem("ActFact token");return function(a){return y.a.get("http://95.217.183.106:3000/boards/"+e,{headers:{Authorization:"Bearer "+t}}).then((function(e){a({type:"ADD_BOARD",payload:e.data[0]})})).catch((function(e){throw e}))}},P=function(e){var t=localStorage.getItem("ActFact token");return function(a){return y.a.get("http://95.217.183.106:3000/history/"+e,{headers:{Authorization:"Bearer "+t}}).then((function(t){a({type:"ADD_HISTORY",payload:{componentId:e,data:t.data}})})).catch((function(e){throw e}))}},q=function(e){var t=localStorage.getItem("ActFact token");return function(a){return y.a.get("http://95.217.183.106:3000/location/"+e,{headers:{Authorization:"Bearer "+t}}).then((function(e){a({type:"ADD_LOCATION",payload:{data:e.data}})})).catch((function(e){throw e}))}};var H=a(248),U=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).loadAllLocations=function(e){return n.getData().then((function(t){e.forEach(function(){var e=Object(W.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.dispatch(q(t.board_id_in_company));case 2:0!==n.props.location.data.length&&(console.log(n.props.location.data),a={lon:n.props.location.data[0].location_lat,lat:n.props.location.data[0].location_long,all:t.state.length},n.state.locations.push(a),console.log("load loc"));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}))},n.getData=function(){return n.props.dispatch(F()).then((function(e){return n.setState({objects:n.props.devices}),e}))},n.loadMap=function(){Object(H.loadModules)(["esri/Map","esri/views/MapView","esri/symbols/PictureMarkerSymbol","esri/layers/FeatureLayer","esri/widgets/Search","esri/Graphic","esri/geometry/Point","esri/views/ui/UI"],{css:!0}).then((function(e){var t=Object(S.a)(e,7),a=t[0],r=t[1],s=(t[2],t[3]),i=t[4],l=t[5],o=t[6],c=new a({basemap:"topo-vector",extent:{spatialReference:{wkid:102100}}}),u={type:"simple",symbol:{type:"picture-marker",url:"device.svg",width:"16px",height:"18px"}},d=[],m=0;n.state.locations.forEach((function(e){m++;var t=e.lat,a=e.lon;console.log(t);var n=new o({latitude:t,longitude:a});d.push(new l({geometry:n,geometryType:"point",attributes:{ObjectID:m,name:"Device",all:e.all}}))}));console.log(d);var p=new s({title:"Devices",source:d,geometryType:"point",objectIdField:"ObjectID",popupTemplate:{title:"{name} + {ObjectID}",content:[{type:"fields",fieldInfos:[{fieldName:"all",label:"Number of Components: "}]}]},fields:[{name:"ObjectID",type:"oid"},{name:"name",type:"string"},{name:"all",type:"string"}],renderer:u});c.add(p),n.view=new r({container:n.mapRef.current,map:c,center:[-49.073139,9.613833],zoom:1});var h=new i({view:n.view});n.view.ui.add(h,{position:"top-right",index:2})}))},n.state={locations:[],objects:[]},n.mapRef=r.a.createRef(),n}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(e,t){}},{key:"componentDidMount",value:function(){var e=this;return this.getData().then((function(t){e.loadAllLocations(e.state.objects),console.log("then 1")})).then(function(){var t=Object(W.a)(T.a.mark((function t(a){return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,console.log("then 2");case 2:e.loadMap();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"componentWillUnmount",value:function(){this.view&&(this.view.container=null)}},{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",{className:"webmap",ref:this.mapRef})}}]),a}(r.a.Component),V=Object(L.b)((function(e){return{location:e.location,devices:e.devices}}))(U),Z=a(96),Y=a.n(Z),$=a(541),J=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={test:"",sliderBind:[0,100],filteredDevices:[],filterOn:!1},e.setSliderRange=function(t){e.setState({filterOn:!0,sliderBind:t})},e.severityPercentageCounter=function(e){for(var t=0,a=0;a<e.length;a++)e[a].severity<5&&t++;return t/e.length*100},e.filterDevices=function(t,a,n){for(var r=[],s=0;s<n.length;s++){var i=e.severityPercentageCounter(n[s].state);t<=i&&i<=a&&r.push(n[s])}return r},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(W.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.dispatch(F());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(W.a)(T.a.mark((function e(t){var a=this;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.devices!==this.state.devices&&"/dashboard"===window.location.pathname&&Y()("http://95.217.183.106:3000").on("Devices",(function(e){a.props.dispatch(F()),a.setState({test:e})}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.devices,a=[{title:"Device ID",dataIndex:"id"},{title:"Current status",dataIndex:"online",render:function(e){return 1===e?"Online":"Offline"}},{title:"See alerts",dataIndex:"id",render:function(e){return r.a.createElement(l.b,{to:"/notifications/"+e},r.a.createElement($.a,null))}}];return r.a.createElement("div",{className:"navigation-wrapper"},r.a.createElement("div",{className:"dashboard-container"},r.a.createElement("div",{className:"dashboard-block"},r.a.createElement("div",{style:{width:"35%"},className:"content-block"},r.a.createElement("h3",null,"Devices with alert status"),r.a.createElement("div",{style:{marginTop:"3vh",marginBottom:"2vh"}},"Devices with ",this.state.sliderBind[0]," to ",this.state.sliderBind[1],"% damaged components"),r.a.createElement(B.a,{range:!0,marks:[this.state.sliderBind[0],this.state.sliderBind[1]],value:this.state.sliderBind,style:{width:"10vw"},onChange:this.setSliderRange}),r.a.createElement(A.a,{className:"devices-table",columns:a,dataSource:this.state.filterOn?this.filterDevices(this.state.sliderBind[0],this.state.sliderBind[1],t):t,rowKey:"id",pagination:{pageSize:6,position:["topRight"]},onRow:function(t){var a=t.id;return{onClick:function(){e.props.history.push("/notifications/".concat(a))}}}})),r.a.createElement("div",{style:{width:"48%"},className:"content-block mp"},r.a.createElement(V,null)))))}}]),a}(r.a.Component),K=Object(L.b)((function(e){return{devices:e.devices}}))(J),G=a(257),X=a.n(G),Q=(a(519),a(543)),ee=a(542),te={required:"${label} is required!",types:{email:"Invalid E-Mail!"}};var ae=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).onClose=function(){n.setState({show_editor:!1,previous_img:n.state.preview})},n.onCrop=function(e){n.setState({preview:e})},n.onCropOk=function(){n.setState({show_editor:!1})},n.showEditor=function(){n.state.show_editor?n.setState({show_editor:!1,ava_text:"Apply"}):n.setState({show_editor:!0,ava_text:" Edit"})},n.state={username:void 0,email:void 0,old_pass:"",new_pass:"",new_pass_confirm:"",error:"",previous_img:"./profile.jpg",preview:"./profile.jpg",src:"./profile.jpg",show_editor:!1,ava_text:"Edit",message:"",email_old:void 0,finished:!1},n.handleChange=n.handleChange.bind(Object(v.a)(n)),n.handleApply=n.handleApply.bind(Object(v.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("ActFact token");y.a.get("http://95.217.183.106:3000/userinfo",{headers:{Authorization:"Bearer "+t}}).then((function(t){return e.setState({username:t.data.name,email:t.data.email,email_old:t.data.email})})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(m.a)({},a,n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")))}},{key:"handleApply",value:function(){var e=this;document.getElementById("nest-messages_email").style.backgroundColor=null,document.getElementById("nest-messages_pass2").style.backgroundColor=null,document.getElementById("nest-messages_pass3").style.backgroundColor=null;var t=localStorage.getItem("ActFact token");t||(window.location="/");return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.state.email)?this.state.new_pass!==this.state.new_pass_confirm?(document.getElementById("nest-messages_pass2").style.backgroundColor="#f4efef",document.getElementById("nest-messages_pass3").style.backgroundColor="#f4efef",void this.setState({error:"Passwords do not match"})):(this.state.new_pass||this.setState({new_pass:this.state.old_pass}),y()({url:"http://95.217.183.106:3000/modifyuser",method:"patch",headers:{Authorization:"Bearer "+t},data:{new_email:this.state.email,email:this.state.email_old,new_password:this.state.new_pass,old_password:this.state.old_pass}}).then((function(t){localStorage.setItem("ActFact token",t.data.token),e.setState({finished:!0}),setTimeout(window.location="/profile",6e3)})).catch((function(t){return e.setState({error:t.response.data.error})})),void this.setState({new_pass:""})):(document.getElementById("nest-messages_email").style.backgroundColor="#f4efef",void this.setState({error:"Invalid email"}))}},{key:"onBeforeFileLoad",value:function(e){e.target.files[0].size>2571680&&(alert("File is too big!"),e.target.value="")}},{key:"render",value:function(){var e=this.state,t=e.username,a=e.email;e.error;return e.finished?r.a.createElement("div",{className:"success"},r.a.createElement("h1",{className:"header_green"},"Success"),r.a.createElement("div",null,"You will be redirected"),r.a.createElement("img",{src:"./success-icon.png",id:"success_img"})):void 0===t?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ee.a,{style:{position:"absolute",top:"40%",fontSize:"64px",margin:"auto"}})):r.a.createElement("div",{className:"navigation-wrapper"},r.a.createElement("div",{id:"success"}),r.a.createElement("div",{className:"profile-component"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"profile_avatar_wrapper line"},r.a.createElement("div",{className:"change_avatar"},r.a.createElement("img",{className:"avatar_img",src:this.state.preview,onClick:this.showEditor}),r.a.createElement("span",{onClick:this.showEditor,className:"edit-image-icon"},r.a.createElement(Q.a,null)))),r.a.createElement(C.a,{title:"Edit photo",visible:this.state.show_editor,onOk:this.onCropOk,onCancel:this.onClose,width:"26%",style:{position:"relative"}},r.a.createElement("div",{className:"file_avatar_wrapper"},r.a.createElement(X.a,{className:"file_avatar",width:160,height:120,onCrop:this.onCrop,onBeforeFileLoad:this.onBeforeFileLoad,src:this.state.src}))),r.a.createElement("div",{className:"profile_text line"},r.a.createElement("div",{className:"content_text"},r.a.createElement(k.a,{name:"nest-messages",validateMessages:te,onFinish:this.handleApply,className:"c-profile-form",initialValues:{username:t,email:a}},r.a.createElement("div",{className:"warningWrapper"},r.a.createElement("h5",{id:"warning"},this.state.error)),r.a.createElement("div",{className:"input col"},r.a.createElement(k.a.Item,{name:"username",label:"Username",rules:[{required:!0}]},r.a.createElement(d.a,{size:"large",name:"reg_username",id:"username",className:"inpBox",suffix:r.a.createElement(E.a,null),onChange:this.handleChange,disabled:!0}))),r.a.createElement("div",{className:"input col"},r.a.createElement(k.a.Item,{name:"email",label:"E-mail",rules:[{required:!0}]},r.a.createElement(d.a,{size:"large",name:"email",id:"email",className:"inpBox",onChange:this.handleChange,suffix:r.a.createElement(_.a,null)}))),r.a.createElement("div",{className:"input col"},r.a.createElement(k.a.Item,{name:"pass1",label:"Old password",rules:[{required:!0}]},r.a.createElement(d.a.Password,{size:"large",id:"old_pass",name:"old_pass",value:this.state.old_pass,className:"inpBox",suffix:r.a.createElement(w.a,null),onChange:this.handleChange}))),r.a.createElement("div",{className:"input col"},r.a.createElement(k.a.Item,{name:"pass2",label:"New password"},r.a.createElement(d.a.Password,{size:"large",name:"new_pass",id:"new_pass",value:this.state.new_pass,className:"inpBox",suffix:r.a.createElement(w.a,null),onChange:this.handleChange}))),r.a.createElement("div",{className:"input col"},r.a.createElement(k.a.Item,{name:"pass3",label:"New password (confirm)"},r.a.createElement(d.a.Password,{size:"large",name:"new_pass_confirm",id:"new_pass_confirm",value:this.state.new_pass_confirm,className:"inpBox",suffix:r.a.createElement(w.a,null),onChange:this.handleChange}))),r.a.createElement("div",{className:"button_wrapper col"},r.a.createElement(k.a.Item,null,r.a.createElement(c.a,{htmlType:"button",style:{height:"auto"},id:"button_cancel",className:"button_small_left",onClick:function(){window.location="/profile"}},"Cancel")),r.a.createElement(k.a.Item,null,r.a.createElement(c.a,{type:"primary",htmlType:"submit",style:{height:"auto"},id:"button_apply",className:"button_small_right"},"Apply")))))))))}}]),a}(r.a.Component),ne=(a(230),a(30)),re=(a(521),a(544)),se=a(545),ie=a(546),le=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={width:0,height:0},n.updateWindowDimensions=n.updateWindowDimensions.bind(Object(v.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"isMobile",value:function(){return this.state.width<"1001"}},{key:"logout",value:function(){localStorage.removeItem("ActFact token"),window.location="/"}},{key:"render",value:function(){return r.a.createElement("div",null,this.isMobile()?r.a.createElement("span",null):r.a.createElement("div",{className:"side-menu-container"},r.a.createElement("div",{className:"side-bar"},r.a.createElement("div",{className:"logo"}),r.a.createElement(ne.a,{defaultSelectedKeys:["/dashboard"],mode:"inline",selectedKeys:window.location.pathname},r.a.createElement(ne.a.Item,{key:"/dashboard",id:"menu_dashboard",icon:r.a.createElement(re.a,null)},r.a.createElement(l.b,{to:"/dashboard"},"Dashboard")),r.a.createElement(ne.a.Item,{key:"/profile",id:"menu_profile",icon:r.a.createElement(E.a,null)},r.a.createElement(l.b,{to:"/profile"},"Profile")),r.a.createElement(ne.a.Item,{key:"/customer-service",id:"menu_service",icon:r.a.createElement(se.a,null)},r.a.createElement(l.b,{to:"/customer-service"},"Customer Service")),r.a.createElement("div",{className:"divider"}),r.a.createElement(ne.a.Item,{key:"/logout",id:"menu_logout",icon:r.a.createElement(ie.a,null)},r.a.createElement("span",{onClick:this.logout},"Log Out"))))))}}]),a}(r.a.Component),oe=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={alerts:[]},e}return Object(h.a)(a,[{key:"alertState",value:function(){return this.state.alerts.length>0}},{key:"render",value:function(){return r.a.createElement("span",null,this.alertState()?r.a.createElement(l.b,{to:"/notifications"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 60",xmlSpace:"preserve",className:"notification-icon"},r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M24,44c-2.8,0-5-2.2-5-5v-1h10v1C29,41.8,26.8,44,24,44z M21.2,40c0.4,1.2,1.5,2,2.8,2s2.4-0.8,2.8-2H21.2z"}),r.a.createElement("path",{d:"M24,10c-1.7,0-3-1.3-3-3s1.3-3,3-3s3,1.3,3,3S25.7,10,24,10z M24,6c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S24.6,6,24,6z"}),r.a.createElement("path",{d:"M39,40H9c-0.9,0-1.7-0.4-2.3-1S5.9,37.4,6,36.6C6.2,35.1,7.6,34,9.2,34c1.6,0,2.8-1.3,2.8-2.8V20c0-3.2,1.3-6.3,3.6-8.6    C17.9,9.2,20.8,8,24,8c0.1,0,0.2,0,0.2,0c2.7,0,5.3,1,7.4,2.8l1.1,0.9l-1.2,0.7C30.5,13,30,13.9,30,15c0,1.7,1.3,3,3,3    c0.5,0,0.9-0.1,1.4-0.4l1.2-0.6l0.2,1.4c0.1,0.7,0.2,1.4,0.2,2v10.7c0,1.6,1.3,2.9,2.9,2.9c1.5,0,2.8,1.1,3.1,2.5l0,0    c0.1,0.9-0.1,1.8-0.7,2.4S39.9,40,39,40z M24,10c-2.6,0-5.1,1-7,2.9c-1.9,1.9-3,4.4-3,7.1v11.2c0,2.7-2.2,4.8-4.8,4.8    c-0.5,0-1.1,0.3-1.1,0.8c0,0.3,0,0.6,0.2,0.8C8.4,37.9,8.7,38,9,38h30c0.3,0,0.6-0.1,0.8-0.4c0.2-0.2,0.3-0.5,0.2-0.8l0,0    c-0.1-0.5-0.6-0.8-1.1-0.8c-2.7,0-4.9-2.2-4.9-4.9V20.4c0-0.2,0-0.3,0-0.5C33.7,20,33.3,20,33,20c-2.8,0-5-2.2-5-5    c0-1.3,0.5-2.5,1.3-3.4c-1.5-1-3.3-1.6-5.1-1.6C24.1,10,24.1,10,24,10z"}),r.a.createElement("path",{id:"notification-alert",fillRule:"nonzero",d:"M33,20c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S35.8,20,33,20z"}))))):r.a.createElement(l.b,{to:"/notifications"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 60",xmlSpace:"preserve",className:"notification-icon"},r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("path",{d:"M 24 44 c -2.8 0 -5 -2.2 -5 -5 v -1 h 10 v 1 C 29 41.8 26.8 44 24 44 Z M 21.2 40 c 0.4 1.2 1.5 2 2.8 2 s 2.4 -0.8 2.8 -2 H 21.2 Z"}),r.a.createElement("path",{d:"M 39 40 H 9 c -0.9 0 -1.7 -0.4 -2.3 -1 S 5.9 37.4 6 36.6 C 6.2 35.1 7.6 34 9.2 34 c 1.6 0 2.8 -1.3 2.8 -2.8 V 20 c 0 -3.2 1.3 -6.3 3.6 -8.6 c 2.3 -2.3 5.4 -3.5 8.6 -3.4 C 30.7 8.1 36 13.7 36 20.4 v 10.7 c 0 1.6 1.3 2.9 2.9 2.9 c 1.5 0 2.8 1.1 3.1 2.5 c 0.1 0.9 -0.1 1.8 -0.7 2.4 S 39.9 40 39 40 Z M 24 10 c -2.6 0 -5.1 1 -7 2.9 c -1.9 1.9 -3 4.4 -3 7.1 v 11.2 c 0 2.7 -2.2 4.8 -4.8 4.8 c -0.5 0 -1.1 0.3 -1.1 0.8 c 0 0.3 0 0.6 0.2 0.8 C 8.4 37.9 8.7 38 9 38 h 30 c 0.3 0 0.6 -0.1 0.8 -0.4 c 0.2 -0.2 0.3 -0.5 0.2 -0.8 c -0.1 -0.5 -0.6 -0.8 -1.1 -0.8 c -2.7 0 -4.9 -2.2 -4.9 -4.9 V 20.4 c 0 -5.6 -4.4 -10.3 -9.8 -10.4 C 24.1 10 24.1 10 24 10 Z"}),r.a.createElement("path",{d:"M 24 10 c -1.7 0 -3 -1.3 -3 -3 s 1.3 -3 3 -3 s 3 1.3 3 3 S 25.7 10 24 10 Z M 24 6 c -0.6 0 -1 0.4 -1 1 s 0.4 1 1 1 s 1 -0.4 1 -1 S 24.6 6 24 6 Z"}))))))}}]),a}(r.a.Component),ce=a(547),ue=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={width:0,height:0},n.updateWindowDimensions=n.updateWindowDimensions.bind(Object(v.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"isMobile",value:function(){return this.state.width<"1001"}},{key:"render",value:function(){return r.a.createElement("div",null,this.isMobile()?r.a.createElement("div",{className:"mobile-footer"},r.a.createElement("div",{className:"footer-icon-block"},r.a.createElement("div",{className:"footer-icon"},r.a.createElement(l.b,{to:"/settings"},r.a.createElement(ce.a,null))),r.a.createElement("div",{className:"footer-icon"},r.a.createElement(E.a,null)),r.a.createElement("div",{className:"footer-icon active"},r.a.createElement(re.a,null)),r.a.createElement("div",{className:"footer-icon"},r.a.createElement(oe,null)),r.a.createElement("div",{className:"footer-icon"},r.a.createElement(se.a,null)))):r.a.createElement("span",null))}}]),a}(r.a.Component),de=(a(537),a(264)),me=(a(231),a(134)),pe=(a(235),a(110)),he=pe.a.Meta,ve=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).mobileHeader=r.a.createElement("div",{className:"mobile-header"},r.a.createElement("div",{className:"header-profile"}),r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",placeholder:" "}),r.a.createElement("div",null,r.a.createElement("svg",null,r.a.createElement("use",{xlinkHref:"#path"})))),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},r.a.createElement("symbol",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 158 26",id:"path"},r.a.createElement("path",{d:"M32.9418651,-20.6880772 C37.9418651,-20.6880772 40.9418651,-16.6880772 40.9418651,-12.6880772 C40.9418651,-8.68807717 37.9418651,-4.68807717 32.9418651,-4.68807717 C27.9418651,-4.68807717 24.9418651,-8.68807717 24.9418651,-12.6880772 C24.9418651,-16.6880772 27.9418651,-20.6880772 32.9418651,-20.6880772 L32.9418651,-29.870624 C32.9418651,-30.3676803 33.3448089,-30.770624 33.8418651,-30.770624 C34.08056,-30.770624 34.3094785,-30.6758029 34.4782612,-30.5070201 L141.371843,76.386562",transform:"translate(83.156854, 22.171573) rotate(-225.000000) translate(-83.156854, -22.171573)"})))),n.updateWindowDimensions=n.updateWindowDimensions.bind(Object(v.a)(n)),n.state={width:0,us:""},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"updateWindowDimensions",value:function(){this.setState({width:window.innerWidth,height:window.innerHeight})}},{key:"setTitle",value:function(){return"/dashboard"===window.location.pathname?"Dashboard":window.location.pathname.includes("/notifications")?"Notifications":"/profile"===window.location.pathname?"Profile":"/customer-service"===window.location.pathname?"Customer Service":void 0}},{key:"newAlerts",value:function(){return"#88aeeb"}},{key:"isMobile",value:function(){return this.state.width<"1001"}},{key:"render",value:function(){return r.a.createElement("div",{className:"header-container"},this.isMobile()?this.mobileHeader:r.a.createElement(de.a,{className:"site-page-header",extra:[r.a.createElement("div",{className:"header-alert",key:0},r.a.createElement(oe,null)),r.a.createElement("div",{key:2,className:"vertical-divider"}),r.a.createElement("div",{key:3,style:{margin:0}},r.a.createElement(pe.a,null,r.a.createElement(he,{avatar:r.a.createElement(me.a,{src:"./profile.jpg"}),description:"test"})))],title:this.setTitle()}))}}]),a}(r.a.Component),fe=a(109),ge=a(262),Ee=a(265),we={devices:[],device:[],history:[],location:[],value:""};var be=Object(fe.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_FETCHED_DATA":return Object.assign({},e,{devices:t.payload});case"ADD_BOARD":return Object.assign({},e,{device:t.payload});case"ADD_HISTORY":return Object.assign({},e,{history:[].concat(Object(Ee.a)(e.history),[t.payload])});case"ADD_LOCATION":return Object.assign({},e,{location:t.payload});default:return e}}),Object(fe.a)(ge.a)),ye=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={list:[]},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("ActFact token");t||(window.location="/"),y.a.get("http://95.217.183.106:3000/userinfo",{headers:{Authorization:"Bearer "+t}}).then((function(t){return e.setState({user:t.data.name})})).catch((function(e){console.log(e),localStorage.removeItem("ActFact token")}))}},{key:"render",value:function(){return void 0===this.state.user?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ee.a,{style:{position:"absolute",top:"40%",fontSize:"64px",margin:"auto"}})):r.a.createElement("div",{id:"Logged in"},r.a.createElement(L.a,{store:be},r.a.createElement(le,null),r.a.createElement(ve,null),this.props.children,r.a.createElement(ue,null)))}}]),a}(r.a.Component),Ce=Object(o.f)(ye),ke=(a(232),a(178)),Oe=a.n(ke);a(233);Oe.a.defaults.global.defaultFontFamily="'Montserrat', sans-serif";var Se=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){var e;return Object(p.a)(this,a),(e=t.call(this)).chartRef=r.a.createRef(),e.state={data:[],dataTime:[],isInitialized:!1},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.dispatch(P(this.props.inputComponent.id)).then((function(){if(e.chartRef.current&&!e.state.isInitialized){e.props.history[0].data.map((function(t){e.state.data.push(t.severity),e.state.dataTime.push(t.time.substring(11,19))}));var t=e.chartRef.current.getContext("2d"),a=t.canvas.height,n=t.createLinearGradient(0,0,0,a);n.addColorStop(.91,"rgba(255,208,208,0.3)"),n.addColorStop(.72,"rgba(255,220,196,0.3)"),n.addColorStop(.6,"rgba(253,239,211,0.3)"),n.addColorStop(.41,"rgba(253,253,211,0.3)"),n.addColorStop(.2,"rgba(242,253,211,0.3)"),n.addColorStop(0,"rgba(198,255,224,0.3)"),e.myChart=new Oe.a(t,{type:"line",data:{labels:e.state.dataTime.slice(e.state.data.length-10,e.state.data.length),datasets:[{label:"Severity",borderColor:"rgba(57,81,120,0.8)",pointBackgroundColor:"white",borderWidth:1,data:e.state.data.slice(e.state.data.length-10,e.state.data.length),backgroundColor:n}]},options:{scales:{yAxes:[{ticks:{min:1,max:5,padding:18}}],xAxes:[{ticks:{padding:18}}]},responsive:!0,maintainAspectRatio:!1}})}}))}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;e.inputComponent!==this.props.inputComponent&&(window.location.pathname.includes("notifications")&&Y()("http://95.217.183.106:3000").on("Devices",(function(e){n.props.dispatch(P(n.props.inputComponent.id)).then((function(){n.myChart.data.labels=15===n.props.history.length?n.state.dataTime:n.state.dataTime.slice(n.state.data.length-10,n.state.data.length),n.myChart.data.datasets[0].data=15===n.state.data.length?n.state.data:n.state.data.slice(n.state.data.length-10,n.state.data.length),n.myChart.update({duration:800,easing:"easeInCubic"})}))})))}},{key:"render",value:function(){return r.a.createElement(pe.a,null,r.a.createElement("canvas",{height:"340",id:"lineChart",ref:this.chartRef}))}}]),a}(r.a.Component),_e=Object(L.b)((function(e){return{history:e.history}}))(Se),Ne=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={filteredComponents:[],filterValues:[{label:"Normal",value:"Normal"},{label:"Warning",value:"Warning"},{label:"Alert",value:"Alert"}],filterOn:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(W.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.dispatch(R(this.props.match.params.id));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(W.a)(T.a.mark((function e(t,a){var n=this;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.device!==this.props.device&&window.location.pathname.includes("notifications")&&Y()("http://95.217.183.106:3000").on("Devices",(function(e){n.props.dispatch(R(n.props.match.params.id))}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.device,a=[{title:"ID",dataIndex:"id",key:"id"},{title:"Sensor",dataIndex:"state_name"},{title:"Status",dataIndex:"active_rule",render:function(e){return e.includes("off")?r.a.createElement("span",null,"off"):r.a.createElement("span",null,"on")}},{title:"Message",dataIndex:"message"}];return r.a.createElement("div",{className:"navigation-wrapper"},r.a.createElement("div",{className:"notification-container"},r.a.createElement("div",{className:"notifications-block"},r.a.createElement("div",{className:"filters-block"},r.a.createElement(u.a.Group,{options:this.state.filterValues,onChange:function(a){e.setState({filterOn:!0}),3===a.length||0===a.length?e.setState({filteredComponents:t.state}):1===a.length?e.setState({filteredComponents:a.includes("Normal")?t.state.filter((function(e){return 5===e.severity})):a.includes("Alert")?t.state.filter((function(e){return e.severity<3})):t.state.filter((function(e){return 4===e.severity||3===e.severity}))}):e.setState({filteredComponents:a.includes("Normal")&&a.includes("Alert")?t.state.filter((function(e){return 5===e.severity||e.severity<3})):a.includes("Alert")&&a.includes("Warning")?t.state.filter((function(e){return e.severity<5})):t.state.filter((function(e){return e.severity>2}))})}}),r.a.createElement("div",{className:"header-alert",style:{height:"25px"}},r.a.createElement("div",{className:"search"},r.a.createElement("input",{id:"search",onChange:function(a){e.setState({filterOn:!0});var n=a.target.value.toLowerCase();e.setState({filteredComponents:t.state.filter((function(e){return e.state_name.toLowerCase().includes(n)}))})},value:null,type:"text",placeholder:" "}),r.a.createElement("div",null,r.a.createElement("svg",null,r.a.createElement("use",{xlinkHref:"#path"})))),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},r.a.createElement("symbol",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 158 26",id:"path"},r.a.createElement("path",{d:"M32.9418651,-20.6880772 C37.9418651,-20.6880772 40.9418651,-16.6880772 40.9418651,-12.6880772 C40.9418651,-8.68807717 37.9418651,-4.68807717 32.9418651,-4.68807717 C27.9418651,-4.68807717 24.9418651,-8.68807717 24.9418651,-12.6880772 C24.9418651,-16.6880772 27.9418651,-20.6880772 32.9418651,-20.6880772 L32.9418651,-29.870624 C32.9418651,-30.3676803 33.3448089,-30.770624 33.8418651,-30.770624 C34.08056,-30.770624 34.3094785,-30.6758029 34.4782612,-30.5070201 L141.371843,76.386562",transform:"translate(83.156854, 22.171573) rotate(-225.000000) translate(-83.156854, -22.171573)"}))))),r.a.createElement(A.a,{className:"devices-table",columns:a,dataSource:this.state.filterOn?this.state.filteredComponents:t.state,rowKey:function(e){return e.id},rowClassName:function(e){return e.active_rule.includes("off")&&5==e.severity?"table-row-dark":5==e.severity?"table-row-light":e.severity>2?"table-row-warning":"table-row-alert"},expandable:{expandedRowRender:function(t,a){return r.a.createElement(_e,{inputComponent:e.props.device.state[a]})}}}))))}}]),a}(r.a.Component),je=Object(L.b)((function(e){return{device:e.device}}))(Ne),xe=(a(212),a(80)),De=(a(535),xe.a.Option),Ie={required:"${label} is required!"},Me=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).handleDeviceIDChange=function(e){n.setState({deviceID:e})},n.handleMessageChange=function(e){n.setState({message:e.target.value})},n.handleSubmit=function(){var e=localStorage.getItem("ActFact token");y()({url:"http://95.217.183.106:3000/contact",method:"post",headers:{Authorization:"Bearer "+e},data:{name:n.state.email,subject:n.state.deviceID,message:n.state.message}}).then((function(e){n.setState({finished:!0}),setTimeout(window.location="/customer-service",3e3)})).catch((function(e){console.log(e)}))},n.state={name:void 0,email:void 0,deviceID:"",message:"",finished:!1},n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.getItem("ActFact token");y.a.get("http://95.217.183.106:3000/userinfo",{headers:{Authorization:"Bearer "+t}}).then((function(t){return e.setState({name:t.data.name,email:t.data.email})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=(e.deviceID,e.message),s=e.finished;return void 0===t?r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(ee.a,{style:{position:"absolute",top:"40%",fontSize:"64px",margin:"auto"}})):s?r.a.createElement("div",{className:"success"},r.a.createElement("h1",{className:"header_green"},"Success"),r.a.createElement("div",null,"You will be redirected"),r.a.createElement("img",{src:"./success-icon.png",id:"success_img"})):r.a.createElement("div",{className:"navigation-wrapper"},r.a.createElement("div",{className:"service-container"},r.a.createElement("div",{className:"service-block"},r.a.createElement(k.a,{name:"nest-messages",validateMessages:Ie,onFinish:this.handleSubmit,className:"c-service-form",initialValues:{name:t,email:a}},r.a.createElement(k.a.Item,{name:["user","name"],label:"Name"},r.a.createElement(d.a,{size:"large",type:"text",disabled:!0,defaultValue:t,suffix:r.a.createElement(E.a,null)})),r.a.createElement(k.a.Item,{name:["user","email"],label:"E-mail"},r.a.createElement(d.a,{size:"large",disabled:!0,defaultValue:a,suffix:r.a.createElement(_.a,null)})),r.a.createElement("div",{className:"input_service"},r.a.createElement(k.a.Item,{name:["user","deviceID"],label:"Device",rules:[{required:!0}]},r.a.createElement(xe.a,{id:"select_device",placeholder:"Select device ID",onChange:this.handleDeviceIDChange},r.a.createElement(De,{key:"1",value:"SD12321"},"SD12321"),r.a.createElement(De,{key:"0",value:"SY37fJ5"},"SY37fJ5")))),r.a.createElement(k.a.Item,{name:["user","messsage"],label:"Message",rules:[{required:!0}]},r.a.createElement(d.a.TextArea,{placeholder:"Type your question",id:"user_message",rows:2,type:"text",value:n,onChange:this.handleMessageChange})),r.a.createElement("div",{className:"button_wrapper"},r.a.createElement(k.a.Item,null,r.a.createElement(c.a,{htmlType:"button",onClick:function(){window.location="/customer-service"},id:"button_cancel"},"Cancel")),r.a.createElement(k.a.Item,null,r.a.createElement(c.a,{type:"primary",htmlType:"submit",id:"button_submit"},"Submit")))))))}}]),a}(r.a.Component);i.a.render(r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:M}),r.a.createElement(Ce,null,r.a.createElement(o.a,{path:"/dashboard",component:K}),r.a.createElement(o.a,{path:"/profile",component:ae}),r.a.createElement(o.a,{path:"/notifications/:id",component:je}),r.a.createElement(o.a,{path:"/customer-service",component:Me}))))),document.getElementById("root"))}},[[268,1,2]]]);
//# sourceMappingURL=main.b0babe69.chunk.js.map