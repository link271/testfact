{"version":3,"sources":["components/signin/register_user.js","components/signin/signin_page.js","actions.js","components/dashboard/map.js","components/dashboard/dashboard.js","components/profile/profile.js","components/side-menu/side.js","components/notificationsIcon.js","components/mobileFooter/footer.js","components/header/headerMenu.js","stateReducer.js","rootReducer.js","components/auth_check/auth.js","components/component-chart/component-chart.js","components/notification/notification.js","components/customer-service/customerService.js","index.js"],"names":["validateMessages","required","types","email","validateUsername","username","test","validateStatus","errorMsg","RegForm","visible","onCreate","onCancel","useState","value","name","setName","setUsername","setEmail","value1","value2","pass","setPass","setPassword","passw1","passw2","pass2","validatePass","useForm","form","okButtonProps","className","cancelButtonProps","title","okText","cancelText","values","empty_val","resetFields","onOk","validateFields","then","catch","info","console","log","id","Item","label","rules","help","size","onChange","e","target","suffix","UserOutlined","validateEmail","MailOutlined","Password","LockOutlined","escapeHtml","unsafe","replace","RegModal","setVisible","onClick","data","password","full_name","message","document","getElementById","axios","post","res","style","color","innerText","setTimeout","innerHTML","err","response","error","SignIn","props","toggleCheck","checked","setState","state","remember","loading","modal","reg_username","reg_password","reg_email","handleChange","bind","handleLogin","input","listener","event","keyCode","preventDefault","click","addEventListener","localStorage","getItem","this","history","push","backgroundColor","setItem","token","placeholder","prefix","onInput","onPressEnter","href","type","disabled","React","Component","fetchData","jwt","dispatch","get","headers","Authorization","payload","loadBoard","loadHistory","componentId","loadLocation","Map","loadAllLocations","arr","forEach","a","el","board_id_in_company","location","length","obj","lon","location_lat","lat","location_long","all","locations","getData","objects","devices","loadMap","loadModules","css","ArcGISMap","MapView","FeatureLayer","Search","Graphic","Point","map","basemap","extent","spatialReference","wkid","renderer","symbol","url","width","height","features","counter","loc","latitude","longitude","geometry","geometryType","attributes","ObjectID","featureLayer","source","objectIdField","fields","add","view","container","mapRef","current","center","zoom","searchWidget","ui","position","index","createRef","prevState","prevProps","r","ref","connect","DashBoard","sliderBind","filteredDevices","filterOn","setSliderRange","val","severityPercentageCounter","deviceWithAlertCounter","i","severity","filterDevices","lowBorder","highBorder","severityPercentage","window","pathname","socketIOClient","on","columns","dataIndex","render","online","to","SelectOutlined","marginTop","range","dataSource","rowKey","pagination","pageSize","onRow","Profile","onClose","show_editor","previous_img","preview","onCrop","onCropOk","showEditor","ava_text","undefined","old_pass","new_pass","new_pass_confirm","src","email_old","finished","handleApply","method","new_email","new_password","old_password","elem","files","alert","display","justifyContent","LoadingOutlined","top","fontSize","margin","FormOutlined","onBeforeFileLoad","onFinish","initialValues","htmlType","SideMenu","updateWindowDimensions","removeEventListener","innerWidth","innerHeight","removeItem","isMobile","defaultSelectedKeys","mode","selectedKeys","key","icon","AppstoreOutlined","TeamOutlined","LogoutOutlined","logout","NotificationIcon","alerts","alertState","xmlns","xmlnsXlink","version","x","y","viewBox","xmlSpace","d","fillRule","MobileFooter","SettingOutlined","Meta","HeaderMenu","mobileHeader","xlinkHref","transform","us","includes","extra","avatar","description","setTitle","initialState","device","stateReducer","action","Object","assign","combineReducers","store","createStore","applyMiddleware","thunk","Auth","list","user","children","withRouter","Chart","defaults","global","defaultFontFamily","ComponentChart","chartRef","dataTime","isInitialized","inputComponent","item","time","substring","myChartRef","getContext","graphHeight","canvas","gradientLine","createLinearGradient","addColorStop","myChart","labels","slice","datasets","borderColor","pointBackgroundColor","borderWidth","options","scales","yAxes","ticks","min","max","padding","xAxes","responsive","maintainAspectRatio","snapshot","update","duration","easing","Notification","filteredComponents","filterValues","match","params","active_rule","Group","checkedValue","filter","searchQuery","toLowerCase","state_name","rowClassName","record","expandable","expandedRowRender","_","Option","CustomerService","handleDeviceIDChange","deviceID","handleMessageChange","handleSubmit","subject","defaultValue","TextArea","rows","ReactDOM","exact","path","component"],"mappings":"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","file":"static/js/main.646e74c1.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { Button, Modal, Form, Input} from 'antd';\nimport { UserOutlined, LockOutlined,MailOutlined} from '@ant-design/icons';\nimport axios from 'axios';\n\nconst validateMessages = {\n  required: '${label} is required!',\n  types: {\n      email: 'Invalid E-Mail!',\n  }\n};\n\nfunction validateUsername(username) {\n  if(!username){\n    return {\n      validateStatus: 'error',\n      errorMsg: 'This field required!',\n    };\n  }\n  if (/^[a-zA-Z]+$/.test(username)) {\n    return {\n      validateStatus: 'success',\n      errorMsg: null\n    };\n  }\n  return {\n    validateStatus: 'error',\n    errorMsg: 'This field should have only characters',\n  };\n}\n\n\n\nfunction validateEmail(email) {\n  if(!email){\n    return {\n      validateStatus: 'error',\n      errorMsg: 'Email is required!',\n    };\n  }\n  var regex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  if (regex.test(email)) {\n    return {\n      validateStatus: 'success',\n      errorMsg: null,\n    };\n  }\n  return {\n    validateStatus: 'error',\n    errorMsg: 'Invalid email',\n  };\n}\n\nfunction validatePass(pass2, pass) {\n  \n  if(!pass && !pass2){\n    return {\n      validateStatus: 'error',\n      errorMsg: 'Password is required!',\n    };\n  }\n  if (pass===pass2) {\n    return {\n      validateStatus: 'success',\n      errorMsg: null,\n    };\n  }\n  return {\n    validateStatus: 'error',\n    errorMsg: 'Passwords do not match',\n  };\n};\n\nfunction emptyNotifications() {\n  return {\n    validateStatus: 'success',\n    errorMsg: null,\n  };\n}\n\nconst empty_val = \"\";\n\nconst RegForm = ({ visible, onCreate, onCancel }) => {\n  const [name, setName] = useState({\n    value: \"\",\n  });\n  const [username, setUsername] = useState({\n    value: \"\",\n  });\n  const [email, setEmail] = useState({\n    value: \"\",\n  });\n  const [pass, setPass] = useState({\n    value1: \"\",\n    value2:\"\",\n  });\n  const onUsernameChange = (e) => {\n    var value = e.target.value;\n    setUsername({\n      ...validateUsername(value),\n      value,\n    });\n  };\n  const onNameChange = (e) => {\n    var value = e.target.value;\n    setName({\n      ...validateUsername(value),\n      value,\n    });\n  };\n  const onEmailChange = (e) => {\n    var value = e.target.value;\n    setEmail({\n      ...validateEmail(value),\n      value,\n    });\n  };\n\n  function setPassword(passw1, passw2){\n    setPass({\n      ...validatePass(passw1,passw2 ),\n      value1: passw1,\n      value2: passw2,\n    });\n  }\n  const onPassChange = (e) => {\n    setPassword(e.target.value,pass.value2)\n  };\n  const onPass2Change = (e) => {   \n    setPassword(pass.value1, e.target.value)\n  };\n\n\n  const [form] = Form.useForm();\n  return (\n    <Modal\n      okButtonProps={{\n        className: \"modal-button-ok\"\n      }}\n      cancelButtonProps={{\n        className: \"modal-button-cancel\"\n      }}\n      visible={visible}\n      title=\"Registration\"\n      okText=\"Create\"\n      cancelText=\"Cancel\"\n      onCancel={\n        onCancel,\n        values => {\n          setUsername({\n            ...emptyNotifications(),\n            empty_val\n          });\n          setEmail({\n            ...emptyNotifications(),\n            empty_val\n          });\n          setPass({\n            ...emptyNotifications(),\n            empty_val\n          });\n          setName({\n            ...emptyNotifications(),\n            empty_val\n          });\n          form.resetFields();\n          onCancel();\n        }        \n      }      \n      onOk={() => {\n        form\n          .validateFields()\n          .then(values => {\n            onCreate(values);\n            form.resetFields();\n          })\n          .catch(info => {\n            console.log('Validate Failed:', info);\n          });          \n      }}\n    >\n      <div id=\"reg_warning\"></div>\n      <Form\n          name=\"reg-form\"\n          validateMessages={validateMessages}\n          className=\"c-profile-form\"\n          id=\"reg_form\"\n          form={form}          \n          > \n            <div className=\"input_wrapper\">\n              <Form.Item name=\"username\" label=\"Username\" rules={[{ required: true }]}\n              validateStatus={username.validateStatus}\n              help={username.errorMsg}>\n                  <Input size=\"large\" name=\"reg_username\" className=\"inpBox\"\n                               onChange={onUsernameChange} suffix={<UserOutlined/>}/>\n              </Form.Item>\n            </div>\n            <div className=\"input_wrapper\">\n              <Form.Item name=\"name\" label=\"Name\" rules={[{ required: true }]}\n              validateStatus={name.validateStatus}\n              help={name.errorMsg}>\n                  <Input size=\"large\" name=\"reg_name\" className=\"inpBox\"\n                               onChange={onNameChange} suffix={<UserOutlined/>}/>\n              </Form.Item>\n            </div>\n            <div className=\"input_wrapper\">\n              <Form.Item name=\"email\" label=\"Email\" rules={[{ required: true }]}\n              validateStatus={email.validateStatus}\n              help={email.errorMsg}>\n                  <Input size=\"large\" name=\"reg_email\" className=\"inpBox\"\n                                onChange={onEmailChange}  suffix={<MailOutlined/>}/>\n              </Form.Item>\n            </div>\n            <div className=\"input_wrapper\">            \n              <Form.Item name=\"password\" label=\"Password\" rules={[{ required: true }]}\n              validateStatus={pass.validateStatus}\n              help={pass.errorMsg}>\n                  <Input.Password size=\"large\" name=\"reg_password\" className=\"inpBox\"\n                   suffix={<LockOutlined/>} onChange={onPassChange}/>\n              </Form.Item>\n            </div>\n            <div className=\"input_wrapper\">            \n              <Form.Item name=\"password2\" label=\"Repeat password\" rules={[{ required: true }]}\n              validateStatus={pass.validateStatus}\n              help={pass.errorMsg}>\n                  <Input.Password size=\"large\" name=\"reg_password2\" className=\"inpBox\"\n                   suffix={<LockOutlined/>} onChange={onPass2Change}/>\n              </Form.Item>\n            </div>\n          </Form>   \n    </Modal>\n  );\n};\n\nconst RegModal = () => {\n  const [visible, setVisible] = useState(false);\n  const onCreate = values => {\n    const data = {\n        username: escapeHtml(values.username),\n        password: escapeHtml(values.password),\n        full_name: escapeHtml(values.name),\n        email: escapeHtml(values.email)\n    }            \n    const message = document.getElementById('reg_warning');\n    axios.post('http://95.217.183.106:3000/users', data).then(res => {\n      message.style.color = \"green\";\n      message.innerText = \"User created successfuly\";\n      setTimeout(function() {\n        setVisible(false);\n        message.innerHTML = \"\";      \n        message.style.color = \"red\";\n      }, 3000);\n    }).catch(err => {\n        message.innerText = err.response.data.error;\n    });        \n  };\n  const onCancel = () => {\n    setVisible(false);\n  }\n\n  return (\n    <div>\n      <Button className=\"floatRight button\" id=\"register_button\"\n        onClick={() => {\n          setVisible(true);\n        }}>\n        Register\n      </Button>\n      <RegForm\n        id=\"register_form\"\n        visible={visible}\n        onCreate={onCreate}\n        onCancel={() => {\n          setVisible(false);\n        }}\n      />\n    </div>\n  );\n};\n\n\n\n\nfunction escapeHtml(unsafe) {\n    return unsafe\n         .replace(/&/g, \"&amp;\")\n         .replace(/</g, \"&lt;\")\n         .replace(/>/g, \"&gt;\")\n         .replace(/\"/g, \"&quot;\")\n         .replace(/'/g, \"&#039;\");\n }\n\nexport default RegModal;","import React from 'react';\nimport './signin_page.css';\nimport { Input, Checkbox,Button} from 'antd';\nimport { UserOutlined, LockOutlined} from '@ant-design/icons';\nimport axios from 'axios';\nimport RegModal from './register_user';\n\n\nexport class SignIn extends React.Component{\n    \n    constructor(props){\n        super(props);\n        this.state = {\n            username: '',\n            password: '',\n            remember: false,\n            loading: false,\n            error: '',\n            modal: false,\n            reg_username: \"\",\n            reg_password: \"\",\n            reg_email: \"\"\n        };\n        this.handleChange= this.handleChange.bind(this);\n        this.handleLogin= this.handleLogin.bind(this);\n    }\n\n    componentDidMount() {\n        var input = document.getElementById(\"username\");\n        var listener = function(event) {\n            if (event.keyCode === 13) {\n            event.preventDefault();\n            document.getElementById(\"log_button\").click();\n            }\n        };\n        input.addEventListener(\"keyup\", listener);\n        input = document.getElementById(\"password\");\n        input.addEventListener(\"keyup\", listener);\n        const jwt = localStorage.getItem('ActFact token');\n        if(jwt){\n            this.props.history.push(\"/dashboard\");\n        }\n    }\n\n    handleChange(e) {\n        console.log(\"Handle\");\n        const { name, value } = e.target;\n        this.setState({ [name]: value });\n        const { username, password } = this.state;\n        if (username) {\n            document.getElementById('username').style.backgroundColor = null;\n        }\n        if (password) {\n            document.getElementById('password').style.backgroundColor = null;\n        }\n    }\n\n    handleLogin(e){\n        e.preventDefault();\n        console.log(\"Login pressed\");\n        const { username, password } = this.state;\n\n        // stop here if form is invalid\n        if (!username) {\n            document.getElementById('username').style.backgroundColor = \"#f4efef\";\n            this.setState({error: \"Username should not be empty\"});\n            return;\n        }\n        if (!password) {\n            document.getElementById('password').style.backgroundColor = \"#f4efef\";\n            this.setState({error: \"Password should not be empty\"});\n            return;\n        }\n        this.setState({ loading: true });\n        \n\n        this.data = {\n            username: username,\n            password: password\n        };\n        axios.post('http://95.217.183.106:3000/auth', this.data).then(res => {\n            localStorage.setItem(\"ActFact token\", res.data.token);\n            this.props.history.push(\"/dashboard\");\n        }).catch(err => {\n           document.getElementById('warning').innerText = err.response.data.error;\n        });\n        this.setState({ loading: false });\n    }\n\n    toggleCheck = e => {\n        console.log('checked = ', e.target.checked);\n        this.setState({\n          checked: e.target.checked,\n        });\n      };\n\n    render(){\n    const { username, password, remember, loading, error, modal } = this.state;\n    const onRegister = () => {\n        \n    };\n    var email_placeholder=\"username\";\n    var password_placeholder=\"password\";\n    var password_forgot_url=\"https://www.youtube.com/watch?v=dQw4w9WgXcQ\";\n        return (            \n            <div className=\"mainframe\">\n                <div className=\"leftPicture\"/>\n                <div className=\"mainContainer\">\n                    <div className=\"headerPlaceholder col\"/>\n                        <div className=\"centerBox col\">\n                            <div className=\"head1Wrapper col\">\n                                <h1>Welcome to <span className=\"textColorBlue\">ActFact</span></h1>\n                            </div>\n                            <div className=\"head2Wrapper col\">\n                                <h2>Meet your ambitions with<br/><span className=\"textColorBrown\">\n                                    flexible</span> and <span className=\"textColorBrown\">\n                                        scalable</span> software</h2>\n                                   \n                            </div>\n                            <div className=\"credentialsWrapper col addPadding\">\n                            <div className=\"warningWrapper\">\n                                        <h5 id='warning'>{this.state.error}</h5>\n                                    </div>\n                                <Input id=\"username\" size=\"large\" name=\"username\" value={username} className=\"inpBox\"\n                                    placeholder={email_placeholder} prefix={<UserOutlined />} onInput={this.handleChange}\n                                    onPressEnter={this.handleChange}/>\n                                <Input.Password id=\"password\" size=\"large\" name=\"password\" value={password} className=\"inpBox  inpBot\"\n                                    placeholder={password_placeholder} prefix={<LockOutlined />} onInput={this.handleChange}\n                                    onPressEnter={this.handleChange} />\n                                    <div className=\"passOptions addPadding\">\n                                        <div className=\"floatLeft\">\n                                            <Checkbox className=\"rememberMe greyText\" onChange={this.toggleCheck}>\n                                                Remember me</Checkbox>\n                                        </div>\n                                        <div className=\"floatRight\">\n                                            <a className=\"forgotPassword greyText\"\n                                            href={password_forgot_url}>Forgot password?</a>\n                                        </div>\n                                    </div>\n                            </div>\n                            <div className=\"buttonsWrapper col\">\n                                <Button type=\"primary\" className=\"floatLeft button\" id=\"log_button\"\n                                    onClick={this.handleLogin} disabled={loading} >Login</Button>\n                                <div className=\"button_space\"/>\n                                <RegModal />\n                        </div>\n                        </div>\n                        \n                        <div className=\"preLogo col\">\n                        </div>\n                        <div className=\"logoSign col\">\n                        </div>\n                    </div>\n\n            </div>\n        );\n\n    }\n\n}\n","import axios from 'axios';\n\nexport const SOCKETS_CONNECTING = 'SOCKETS_CONNECTING';\nexport const SOCKETS_DISCONNECTING = 'SOCKETS_DISCONNECTING';\nexport const SOCKETS_RECEIVING = 'SOCKETS_RECEIVING';\nexport const ADD_FETCHED_DATA = 'ADD_FETCHED_DATA';\nexport const ADD_BOARD = 'ADD_BOARD';\nexport const ADD_HISTORY = 'ADD_HISTORY';\nexport const ADD_LOCATION = 'ADD_LOCATION';\n\n\nexport const fetchData = () => {\n    const jwt = localStorage.getItem('ActFact token');\n    return dispatch => {\n        return axios.get(\"http://95.217.183.106:3000/boards\", { headers: { Authorization: 'Bearer ' + jwt } })\n            .then(response => {\n                dispatch({\n                    type: ADD_FETCHED_DATA,\n                    payload: response.data\n                })\n            }).catch(error => {\n                throw (error);\n            });\n    };\n};\nexport const loadBoard = (id) => {\n    const jwt = localStorage.getItem('ActFact token');\n    return dispatch => {\n        return axios.get(\"http://95.217.183.106:3000/boards/\" + id, { headers: { Authorization: 'Bearer ' + jwt } })\n            .then(response => {\n                dispatch({\n                    type: ADD_BOARD,\n                    payload: response.data[0]\n                })\n            }).catch(error => {\n                throw (error);\n            });\n    };\n};\nexport const loadHistory = (id) => {\n    const jwt = localStorage.getItem('ActFact token');\n    return dispatch => {\n        return axios.get(\"http://95.217.183.106:3000/history/\" + id, { headers: { Authorization: 'Bearer ' + jwt } })\n            .then(response => {\n                dispatch({\n                    type: ADD_HISTORY,\n                    payload: { componentId: id, data: response.data }\n                })\n            }).catch(error => {\n                throw (error);\n            });\n    };\n};\nexport const loadLocation = (id) => {\n    const jwt = localStorage.getItem('ActFact token');\n    return dispatch => {\n        return axios.get(\"http://95.217.183.106:3000/location/\" + id, { headers: { Authorization: 'Bearer ' + jwt } })\n            .then(response => {\n                dispatch({\n                    type: ADD_LOCATION,\n                    payload: { data: response.data }\n                })\n            }).catch(error => {\n                throw (error);\n            });\n    };\n};\nexport function socketsConnecting() {\n    return { type: SOCKETS_CONNECTING };\n}\nexport function socketsDisconnecting() {\n    return { type: SOCKETS_DISCONNECTING };\n}\nexport function socketsReceiving() {\n    return { type: SOCKETS_RECEIVING };\n}\n","import React, {useEffect, useRef} from 'react';\nimport {connect} from \"react-redux\";\nimport {fetchData, loadBoard, loadLocation} from \"../../actions\";\nimport {loadModules} from 'esri-loader';\nimport './dashboard.scss';\nimport socketIOClient from 'socket.io-client'\nimport {objectOf} from \"prop-types\";\n\nconst endpoint = 'http://95.217.183.106:3000';\n\nclass Map extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            locations: [],\n            objects: []\n        }\n        this.mapRef = React.createRef();\n    }\n\n    loadAllLocations = (arr) => {\n        arr.forEach(async el => {\n            await this.props.dispatch(loadLocation(el.board_id_in_company))\n            if (this.props.location.data.length !== 0) {\n                console.log(this.props.location.data)\n                let obj = {\n                    lon:this.props.location.data[0].location_lat,\n                    lat:this.props.location.data[0].location_long,\n                    all: el.state.length\n                }\n                this.state.locations.push(obj)\n                console.log(\"load loc\")\n            }\n\n        })\n    }\n    getData = async () => {\n        await this.props.dispatch(fetchData())\n\n        await this.setState({\n            objects: this.props.devices\n        })\n\n    }\n    loadMap = () => {\n        loadModules(['esri/Map', 'esri/views/MapView', \"esri/symbols/PictureMarkerSymbol\",\n            \"esri/layers/FeatureLayer\", \"esri/widgets/Search\", \"esri/Graphic\",\n            \"esri/geometry/Point\", \"esri/views/ui/UI\"], {css: true})\n            .then(([ArcGISMap, MapView, PictureMarkerSymbol, FeatureLayer, Search, Graphic, Point]) => {\n                const map = new ArcGISMap({\n                    basemap: 'topo-vector',\n                    extent: {\n                        spatialReference: {\n                            wkid: 102100\n                        }\n                    }\n                });\n                let singleSym = {\n                    type: \"picture-marker\",\n                    url: \"device.svg\",\n                    width: \"16px\",\n                    height: \"18px\"\n                };\n\n                let medium = {\n                    type: \"simple-marker\",\n                    width: 50,\n                    color: [81, 87, 102, 0.99],\n                    outline: {\n                        color: [81, 87, 102, 0.88],\n                        width: 15\n                    }\n                };\n                let large = {\n                    type: \"simple-marker\",\n                    width: 80,\n                    color: [63, 68, 79, 0.99],\n                    outline: {\n                        color: [63, 68, 79, 0.88],\n                        width: 15\n                    }\n                };\n                let renderer = {\n                    // type: \"class-breaks\",\n                    type: \"simple\",\n                    // field: \"cluster_count\",\n                    // classBreakInfos: [\n                    // {\n                    //     minValue: 0,\n                    //     maxValue: 1,\n                    //     symbol: singleSym\n                    // },\n                    //  {\n                    //     minValue: 5,\n                    //     maxValue: 15,\n                    //     symbol: medium\n                    // },\n                    // {\n                    //     minValue: 25,\n                    //     maxValue: Infinity,\n                    //     symbol: xlarge\n                    // }\n                    // ]\n                    symbol: singleSym\n                }\n                let features = [];\n                let counter = 0;\n                this.state.locations.forEach(loc => {\n                    counter++;\n\n                    let lat = loc.lat\n                    let lon = loc.lon\n                    console.log(lat)\n\n                    let location = new Point({\n                        latitude: lat,\n                        longitude: lon,\n                    })\n                    features.push(new Graphic({\n                        geometry: location,\n                        geometryType: 'point',\n                        attributes: {\n                            ObjectID: counter,\n                            name: \"Device\",\n                        }\n                    }));\n                })\n                // let arcadeExpressionInfos = [\n                //     {\n                //         name: \"all\",\n                //         title: \"Total population 16+ not employed or in labor force\",\n                //         expression: \"$feature.POP_16UP - $feature.EMP_CY\"\n                //     },\n                //     {\n                //         name: \"alert\",\n                //         title: \"% of population 16+ not employed or in labor force\",\n                //         expression: \"Round((($feature.POP_16UP - $feature.EMP_CY)/$feature.POP_16UP)*100,2) + '%'\"\n                //     },\n                //     {\n                //         name: \"warning\",\n                //         title: \"% of population 16+ not employed or in labor force\",\n                //         expression: \"Round((($feature.POP_16UP - $feature.EMP_CY)/$feature.POP_16UP)*100,2) + '%'\"\n                //     }\n                // ];\n                let template = {\n                    // autocasts as new PopupTemplate()\n                    title: \"{name} + {ObjectID}\",\n                    content: [\n                        {\n                            type: \"fields\",\n                            fieldInfos: [\n                                {\n                                    fieldName: \"expression/all\", // The field whose values you want to format\n                                    label: \"Number of Components: \"\n                                },\n                                {\n                                    fieldName: \"expression/warning\", // The field whose values you want to format\n                                    label: \"Components with Warning: \"\n                                },\n                                {\n                                    fieldName: \"expression/alert\", // The field whose values you want to format\n                                    label: \"Components with Alert: \"\n                                }\n                            ]\n                        }\n                    ]\n                }\n                const clusterConfig = {\n                    type: \"cluster\",\n                    labelingInfo: [\n                        {\n                            deconflictionStrategy: \"none\",\n                            labelExpressionInfo: {\n                                expression: \"Text($feature.cluster_count, '#,###')\"\n                            },\n                            symbol: {\n                                type: \"text\",\n                                color: \"#ffffff\",\n                                font: {\n                                    family: \"Montserrat\",\n                                    size: \"16px\"\n                                }\n                            },\n                            labelPlacement: \"center-center\"\n                        }\n                    ]\n                };\n                console.log(features)\n                const featureLayer = new FeatureLayer({\n                    title: \"Devices\",\n                    source: features,\n                    // expressionInfos: arcadeExpressionInfos,\n                    geometryType: 'point',\n                    objectIdField: \"ObjectID\",\n                    // featureReduction: clusterConfig,\n                    // popupTemplate: template,\n                    fields: [\n                        {\n                            name: \"ObjectID\",\n                            type: \"oid\"\n                        },\n                        {\n                            name: \"name\",\n                            type: \"string\"\n                        },\n                    ],\n                    renderer: renderer\n                });\n                map.add(featureLayer)\n\n                this.view = new MapView({\n                    container: this.mapRef.current,\n                    map: map,\n                    center: [-49.073139, 9.613833],\n                    zoom: 5\n                });\n\n                const searchWidget = new Search({\n                    view: this.view\n                });\n                this.view.ui.add(searchWidget, {\n                    position: \"top-right\",\n                    index: 2\n                });\n            });\n    }\n\n    async componentDidUpdate(prevState, prevProps) {\n    }\n\n    componentDidMount() {\n        this.getData().then(r => this.loadAllLocations(this.state.objects)).then(res=> this.loadMap())\n    }\n\n    componentWillUnmount() {\n        if (this.view) {\n            // destroy the map view\n            this.view.container = null;\n        }\n    }\n\n    render() {\n        console.log(this.state)\n        return (\n            <div>\n                <div className=\"webmap\" ref={this.mapRef}/>\n            </div>\n        );\n    }\n};\n\nconst mapStateToProps = state => ({\n\n    location: state.location,\n    devices: state.devices\n})\n// export default Map\nexport default connect(mapStateToProps)(Map)\n","import React, {useEffect} from 'react';\nimport './dashboard.scss'\nimport Map from \"./map\";\nimport {connect} from \"react-redux\";\nimport {fetchData} from \"../../actions\";\nimport socketIOClient from 'socket.io-client'\nimport {Table, Slider} from 'antd';\nimport {SelectOutlined} from '@ant-design/icons';\nimport {Link} from \"react-router-dom\";\n\nconst endpoint = 'http://95.217.183.106:3000';\n\nclass DashBoard extends React.Component {\n    state = {\n        test: '',\n        sliderBind: [0, 100],\n        filteredDevices: [],\n        filterOn: false\n    }\n\n    async componentDidMount() {\n        this.props.dispatch(fetchData())\n    }\n\n    async componentDidUpdate(prevState) {\n        // console.log('data[0].state')\n        if (prevState.devices !== this.state.devices) {\n            let socket;\n            if (window.location.pathname === \"/dashboard\") {\n                socket = socketIOClient(endpoint);\n                socket.on(\"Devices\", data => {\n                    this.props.dispatch(fetchData())\n                    this.setState({test: data})\n                })\n            }\n\n        }\n    }\n\n    setSliderRange = (val) => {\n        this.setState({\n            filterOn: true,\n            sliderBind: val\n        })\n    }\n\n\n    severityPercentageCounter = (val) => {\n        let deviceWithAlertCounter = 0;\n        for (let i = 0; i < val.length; i++) {\n            if (val[i].severity < 5) {\n                deviceWithAlertCounter++;\n            }\n\n        }\n\n        return deviceWithAlertCounter / val.length * 100;\n    }\n\n    filterDevices = (lowBorder, highBorder, devices) => {\n        let filteredDevices = [];\n        for (let i = 0; i < devices.length; i++) {\n            let severityPercentage = this.severityPercentageCounter(devices[i].state);\n            console.log(lowBorder + \"<= \" + severityPercentage + \"<\" + highBorder)\n            if (lowBorder <= severityPercentage && severityPercentage < highBorder) {\n                filteredDevices.push(devices[i]);\n            }\n        }\n\n        console.log(filteredDevices)\n        return filteredDevices;\n\n    }\n\n    render() {\n        const {devices} = this.props;\n        // console.log(devices)\n        const columns = [\n            {\n                title: 'Device ID',\n                dataIndex: 'id',\n                // key: `id-${updateIndex()}`\n            },\n            {\n                title: 'Current status',\n                dataIndex: 'online',\n                render: (online) => {\n                    if (online === 1) return 'Online'\n                    else return 'Offline'\n                }\n            },\n            {\n                title: 'See alerts',\n                dataIndex: 'id',\n                render: (id) => {\n                    return (<Link to={'/notifications/' + id}><SelectOutlined/></Link>)\n                }\n            },\n        ];\n\n        return (\n            <div className=\"navigation-wrapper\">\n                <div className=\"dashboard-container\">\n                    <div className=\"dashboard-block\">\n                        <div style={{width: '35%'}} className=\"content-block\">\n                            <h3>Devices with alert status</h3>\n                            <div style={{marginTop: '3vh'}}>Percentage of components with alert state</div>\n                            <Slider range value={this.state.sliderBind} style={{width: '10vw'}}\n                                    onChange={\n                                        this.setSliderRange}/>\n                            <div>Value: {this.state.sliderBind[0]} - {this.state.sliderBind[1]}%</div>\n                            <Table className=\"devices-table\"\n                                   columns={columns}\n                                   dataSource={this.state.filterOn ? this.filterDevices(this.state.sliderBind[0], this.state.sliderBind[1], devices) : devices}\n                                   rowKey=\"id\"\n                                   pagination={{pageSize: 6, position: ['topRight']}}\n                                   onRow={({id}) => {\n                                       return {\n                                           onClick: () => {\n                                               this.props.history.push(`/notifications/${id}`)\n                                           }\n                                       };\n                                   }}\n                            />\n                        </div>\n                        <div style={{width: '45%'}} className=\"content-block mp\">\n                            <Map/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n\n    }\n\n}\n\nconst mapStateToProps = state => ({\n\n    devices: state.devices\n\n})\nexport default connect(mapStateToProps)(DashBoard)\n","import React from 'react';\nimport Avatar from 'react-avatar-edit'\nimport './profile.scss';\nimport {Input, Button, Form, Modal} from 'antd';\nimport {MailOutlined, UserOutlined, LockOutlined, FormOutlined, CheckCircleOutlined } from '@ant-design/icons';\nimport {LoadingOutlined} from '@ant-design/icons';\nimport axios from \"axios\";\n\nconst validateMessages = {\n    required: '${label} is required!',\n    types: {\n        email: 'Invalid E-Mail!',\n    }\n};\n\nfunction escapeHtml(unsafe) {\n    return unsafe\n         .replace(/&/g, \"&amp;\")\n         .replace(/</g, \"&lt;\")\n         .replace(/>/g, \"&gt;\")\n         .replace(/\"/g, \"&quot;\")\n         .replace(/'/g, \"&#039;\");\n }\n\nexport class Profile extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            username: undefined,\n            email: undefined,\n            old_pass: '',\n            new_pass: '',\n            new_pass_confirm: '',\n            error: '',\n            previous_img: './profile.jpg',\n            preview: './profile.jpg',\n            src: './profile.jpg',\n            show_editor: false,\n            ava_text: 'Edit',\n            message: '',\n            email_old: undefined,\n            finished: false\n        };\n        this.handleChange= this.handleChange.bind(this);\n        this.handleApply= this.handleApply.bind(this);\n    }\n\n    componentDidMount() {\n        const jwt = localStorage.getItem('ActFact token');\n        axios.get(\"http://95.217.183.106:3000/userinfo\", {headers: {Authorization: 'Bearer ' + jwt}})\n            .then(res => this.setState({\n                username: res.data.name,\n                email: res.data.email,\n                email_old: res.data.email\n            })).catch(err => {\n            console.log(err);\n        })\n    }\n\n    \n\n\n    handleChange(e) {\n        const { name, value } = e.target;\n        this.setState({ [name]: escapeHtml(value)});\n    }\n\n    handleApply(){\n        document.getElementById('nest-messages_email').style.backgroundColor = null;\n        document.getElementById('nest-messages_pass2').style.backgroundColor = null;\n        document.getElementById('nest-messages_pass3').style.backgroundColor = null;\n        const jwt = localStorage.getItem('ActFact token');\n        if (!jwt) {\n            window.location = \"/\";\n        }\n        var regex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        if (!regex.test(this.state.email)) {\n            document.getElementById('nest-messages_email').style.backgroundColor = \"#f4efef\";\n            this.setState({error: \"Invalid email\"});\n            return;\n        }\n        if (!(this.state.new_pass === this.state.new_pass_confirm)) { \n            document.getElementById('nest-messages_pass2').style.backgroundColor = \"#f4efef\";\n            document.getElementById('nest-messages_pass3').style.backgroundColor = \"#f4efef\";\n            this.setState({error: \"Passwords do not match\"}); \n            return;\n        }\n        if(!this.state.new_pass){\n            this.setState({new_pass: this.state.old_pass})\n        }\n        \n        axios({\n            url: 'http://95.217.183.106:3000/modifyuser',\n            method: 'patch',\n            headers: {Authorization: 'Bearer ' + jwt},\n            data: {\n                new_email: this.state.email,\n                email: this.state.email_old,\n                new_password: this.state.new_pass,\n                old_password: this.state.old_pass\n            }\n        })\n        .then(\n            res => {\n                localStorage.setItem(\"ActFact token\", res.data.token);\n                this.setState({finished: true});\n                setTimeout(window.location = \"/profile\", 6000);              \n            }\n        )\n        .catch(err => this.setState({error: err.response.data.error}));\n        this.setState({new_pass: ''});\n    }\n\n    onClose = () => {\n        this.setState({show_editor: false, previous_img: this.state.preview})\n    }\n\n    onCrop = (preview)=> {\n        this.setState({preview})\n    }\n\n    onCropOk = () => {\n        this.setState({show_editor: false})\n    }\n\n    showEditor = () => {\n        if (this.state.show_editor) {\n            this.setState({show_editor: false, ava_text: 'Apply'});\n\n        } else {\n            this.setState({show_editor: true, ava_text: ' Edit'});\n        }\n    }\n\n    onBeforeFileLoad(elem) {\n        if (elem.target.files[0].size > 2571680) {\n            alert(\"File is too big!\");\n            elem.target.value = \"\";\n        };\n    }\n\n\n    render() {\n        const {username, email, error, finished } = this.state;\n        const onReset = () => {\n            window.location = \"/profile\"\n          };\n        if(finished){\n            return (\n                <div className=\"success\">\n                    <h1 className=\"header_green\">Success</h1>\n                    <div>You will be redirected</div>\n                    <img src=\"./success-icon.png\" id=\"success_img\"></img>                    \n                </div>\n            )\n        }\n        if (username === undefined) {\n            return (\n                <div style={{display: \"flex\", justifyContent: \"center\"}}><LoadingOutlined\n                    style={{position: \"absolute\", top: \"40%\", fontSize: \"64px\", margin: \"auto\"}}></LoadingOutlined>\n                </div>\n            )\n        }\n        return (\n            <div className=\"navigation-wrapper\">              \n                <div id=\"success\"></div>\n                <div className=\"profile-component\">\n                    <div className=\"content\">\n                        <div className=\"profile_avatar_wrapper line\">\n                            <div className=\"change_avatar\">\n                                <img className=\"avatar_img\" src={this.state.preview} onClick={this.showEditor}/>\n                                <span onClick={this.showEditor} className=\"edit-image-icon\"><FormOutlined/></span>\n                            </div>\n                        </div>\n                        <Modal\n                            title=\"Edit photo\"\n                            visible={this.state.show_editor}\n                            onOk={this.onCropOk}\n                            onCancel={this.onClose}\n                            width={\"26%\"}\n                            style={{position: \"relative\"}}\n                        >\n                            <div className=\"file_avatar_wrapper\">\n                                <Avatar className=\"file_avatar\"\n                                        width={160}\n                                        height={120}\n                                        onCrop={this.onCrop}\n                                        onBeforeFileLoad={this.onBeforeFileLoad}\n                                        src={this.state.src}\n                                />\n                            </div>\n                        </Modal>\n                        <div className=\"profile_text line\">\n                            <div className=\"content_text\">\n                                <Form name=\"nest-messages\" validateMessages={validateMessages} onFinish={this.handleApply}\n                                 className=\"c-profile-form\"\n                                 initialValues={{\n                                    'username': username,\n                                    'email': email\n                                  }}>\n                                    <div className=\"warningWrapper\">\n                                        <h5 id='warning'>{this.state.error}</h5>\n                                    </div>\n                                    <div className=\"input col\">\n                                        <Form.Item name=\"username\" label=\"Username\" rules={[{ required: true }]}>\n                                            <Input size=\"large\" name=\"reg_username\" id=\"username\" className=\"inpBox\"\n                                                suffix={<UserOutlined/>} onChange={this.handleChange} disabled={true}/>\n                                        </Form.Item>\n                                    </div>\n                                    <div className=\"input col\">\n                                        <Form.Item name=\"email\" label=\"E-mail\" rules={[{ required: true }]}>\n                                        <Input size=\"large\" name=\"email\" id=\"email\" className=\"inpBox\" onChange={this.handleChange}\n                                            suffix={<MailOutlined /> }/>\n                                        </Form.Item>\n                                    </div>\n                                    <div className=\"input col\">\n                                        <Form.Item name=\"pass1\" label=\"Old password\" rules={[{ required: true }]}>\n                                            <Input.Password size=\"large\" id=\"old_pass\" name=\"old_pass\"\n                                                            value={this.state.old_pass}\n                                                            className=\"inpBox\"\n                                                            suffix={<LockOutlined/>} onChange={this.handleChange}/>\n                                        </Form.Item>\n                                    </div>\n                                    <div className=\"input col\">\n                                        <Form.Item name=\"pass2\" label=\"New password\">\n                                            <Input.Password size=\"large\" name=\"new_pass\" id=\"new_pass\"\n                                                            value={this.state.new_pass}\n                                                            className=\"inpBox\"\n                                                            suffix={<LockOutlined/>} onChange={this.handleChange}/>\n                                        </Form.Item>\n                                    </div>\n                                    <div className=\"input col\">\n                                        <Form.Item name=\"pass3\" label=\"New password (confirm)\">\n                                            <Input.Password size=\"large\" name=\"new_pass_confirm\"\n                                                            id=\"new_pass_confirm\"\n                                                            value={this.state.new_pass_confirm}\n                                                            className=\"inpBox\"\n                                                            suffix={<LockOutlined/>}\n                                                            onChange={this.handleChange}/>\n                                        </Form.Item>\n                                    </div>\n                                    <div className=\"button_wrapper col\">\n                                    <Form.Item>\n                                        <Button htmlType=\"button\" style={{height: \"auto\"}} id=\"button_cancel\"\n                                                className=\"button_small_left\" onClick={onReset}>Cancel</Button>\n                                    </Form.Item>\n                                    <Form.Item>\n                                        <Button type=\"primary\" htmlType=\"submit\" style={{height: \"auto\"}} id=\"button_apply\"\n                                                className=\"button_small_right\" >Apply</Button>\n                                    </Form.Item>\n                                    </div>\n                                </Form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                \n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport './side.scss';\nimport {\n    Link\n} from \"react-router-dom\";\nimport {Menu} from 'antd';\nimport {UserOutlined, AppstoreOutlined, TeamOutlined, LogoutOutlined} from '@ant-design/icons';\n\n\nexport class SideMenu extends React.Component {\n    state = {width: 0, height: 0};\n\n    constructor(props) {\n        super(props);\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n    }\n\n    componentDidMount() {\n        this.updateWindowDimensions();\n        window.addEventListener('resize', this.updateWindowDimensions);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.updateWindowDimensions);\n    }\n\n    updateWindowDimensions() {\n        this.setState({width: window.innerWidth, height: window.innerHeight});\n    }\n\n    isMobile() {\n        if (this.state.width < '1001')\n            return true\n        else return false\n    }\n\n    logout(){\n        localStorage.removeItem(\"ActFact token\");\n        window.location=\"/\";\n    }\n\n    render() {\n\n        return (\n            <div>\n                {this.isMobile()\n                    ? <span></span>\n                    : <div className=\"side-menu-container\">\n                        <div className=\"side-bar\">\n                            <div className=\"logo\"/>\n                            <Menu\n                                defaultSelectedKeys={[\"/dashboard\"]}\n                                mode={'inline'}\n                                selectedKeys={window.location.pathname}\n                            >\n                                <Menu.Item key=\"/dashboard\" id=\"menu_dashboard\" icon={<AppstoreOutlined/>}>\n                                    <Link to=\"/dashboard\">Dashboard</Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"/profile\" id=\"menu_profile\" icon={<UserOutlined/>}>\n                                    <Link to=\"/profile\">Profile</Link>\n                                </Menu.Item>\n                                <Menu.Item key=\"/customer-service\" id=\"menu_service\" icon={<TeamOutlined/>}>\n                                    <Link to=\"/customer-service\">Customer Service</Link>\n                                </Menu.Item>\n                                <div className=\"divider\"/>\n                                <Menu.Item key=\"/logout\"  id=\"menu_logout\" icon={<LogoutOutlined />}>\n                                    <span onClick={this.logout}>Log Out</span>\n                                </Menu.Item>\n                            </Menu>\n                        </div>\n                    </div>\n                }\n            </div>\n        );\n\n    }\n\n}\n","import React from 'react';\nimport {\n    Link\n} from \"react-router-dom\";\nimport './side-menu/side'\n\nexport class NotificationIcon extends React.Component {\n    state = { alerts: [] };\n\n    alertState() {\n        if (this.state.alerts.length > 0)\n            return true\n        else return false\n    }\n    render() {\n        return (\n            <span>\n                {this.alertState()\n                    ? <Link to=\"/notifications\"><svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 48 60\" xmlSpace=\"preserve\" className=\"notification-icon\">\n                        <g>\n                            <g>\n                                <path d=\"M24,44c-2.8,0-5-2.2-5-5v-1h10v1C29,41.8,26.8,44,24,44z M21.2,40c0.4,1.2,1.5,2,2.8,2s2.4-0.8,2.8-2H21.2z\" />\n                                <path d=\"M24,10c-1.7,0-3-1.3-3-3s1.3-3,3-3s3,1.3,3,3S25.7,10,24,10z M24,6c-0.6,0-1,0.4-1,1s0.4,1,1,1s1-0.4,1-1S24.6,6,24,6z\" />\n                                <path d=\"M39,40H9c-0.9,0-1.7-0.4-2.3-1S5.9,37.4,6,36.6C6.2,35.1,7.6,34,9.2,34c1.6,0,2.8-1.3,2.8-2.8V20c0-3.2,1.3-6.3,3.6-8.6    C17.9,9.2,20.8,8,24,8c0.1,0,0.2,0,0.2,0c2.7,0,5.3,1,7.4,2.8l1.1,0.9l-1.2,0.7C30.5,13,30,13.9,30,15c0,1.7,1.3,3,3,3    c0.5,0,0.9-0.1,1.4-0.4l1.2-0.6l0.2,1.4c0.1,0.7,0.2,1.4,0.2,2v10.7c0,1.6,1.3,2.9,2.9,2.9c1.5,0,2.8,1.1,3.1,2.5l0,0    c0.1,0.9-0.1,1.8-0.7,2.4S39.9,40,39,40z M24,10c-2.6,0-5.1,1-7,2.9c-1.9,1.9-3,4.4-3,7.1v11.2c0,2.7-2.2,4.8-4.8,4.8    c-0.5,0-1.1,0.3-1.1,0.8c0,0.3,0,0.6,0.2,0.8C8.4,37.9,8.7,38,9,38h30c0.3,0,0.6-0.1,0.8-0.4c0.2-0.2,0.3-0.5,0.2-0.8l0,0    c-0.1-0.5-0.6-0.8-1.1-0.8c-2.7,0-4.9-2.2-4.9-4.9V20.4c0-0.2,0-0.3,0-0.5C33.7,20,33.3,20,33,20c-2.8,0-5-2.2-5-5    c0-1.3,0.5-2.5,1.3-3.4c-1.5-1-3.3-1.6-5.1-1.6C24.1,10,24.1,10,24,10z\" />\n                                <path id=\"notification-alert\" fillRule=\"nonzero\" d=\"M33,20c-2.8,0-5-2.2-5-5s2.2-5,5-5s5,2.2,5,5S35.8,20,33,20z\" />\n                            </g>\n                        </g>\n                    </svg></Link>\n                    : <Link to=\"/notifications\"><svg xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" version=\"1.1\" x=\"0px\" y=\"0px\" viewBox=\"0 0 48 60\" xmlSpace=\"preserve\" className=\"notification-icon\">\n                    <g>\n                        <g>\n                            <path d=\"M 24 44 c -2.8 0 -5 -2.2 -5 -5 v -1 h 10 v 1 C 29 41.8 26.8 44 24 44 Z M 21.2 40 c 0.4 1.2 1.5 2 2.8 2 s 2.4 -0.8 2.8 -2 H 21.2 Z\"></path>\n                            <path d=\"M 39 40 H 9 c -0.9 0 -1.7 -0.4 -2.3 -1 S 5.9 37.4 6 36.6 C 6.2 35.1 7.6 34 9.2 34 c 1.6 0 2.8 -1.3 2.8 -2.8 V 20 c 0 -3.2 1.3 -6.3 3.6 -8.6 c 2.3 -2.3 5.4 -3.5 8.6 -3.4 C 30.7 8.1 36 13.7 36 20.4 v 10.7 c 0 1.6 1.3 2.9 2.9 2.9 c 1.5 0 2.8 1.1 3.1 2.5 c 0.1 0.9 -0.1 1.8 -0.7 2.4 S 39.9 40 39 40 Z M 24 10 c -2.6 0 -5.1 1 -7 2.9 c -1.9 1.9 -3 4.4 -3 7.1 v 11.2 c 0 2.7 -2.2 4.8 -4.8 4.8 c -0.5 0 -1.1 0.3 -1.1 0.8 c 0 0.3 0 0.6 0.2 0.8 C 8.4 37.9 8.7 38 9 38 h 30 c 0.3 0 0.6 -0.1 0.8 -0.4 c 0.2 -0.2 0.3 -0.5 0.2 -0.8 c -0.1 -0.5 -0.6 -0.8 -1.1 -0.8 c -2.7 0 -4.9 -2.2 -4.9 -4.9 V 20.4 c 0 -5.6 -4.4 -10.3 -9.8 -10.4 C 24.1 10 24.1 10 24 10 Z\"></path>\n                            <path d=\"M 24 10 c -1.7 0 -3 -1.3 -3 -3 s 1.3 -3 3 -3 s 3 1.3 3 3 S 25.7 10 24 10 Z M 24 6 c -0.6 0 -1 0.4 -1 1 s 0.4 1 1 1 s 1 -0.4 1 -1 S 24.6 6 24 6 Z\"></path>\n                        </g>\n                    </g>\n                </svg></Link>\n                }\n            </span>\n        );\n\n    }\n\n}\n","import React from 'react';\nimport '../side-menu/side';\nimport {NotificationIcon} from '../notificationsIcon';\nimport { UserOutlined, AppstoreOutlined, TeamOutlined, SettingOutlined } from '@ant-design/icons';\nimport {\n    Link\n} from \"react-router-dom\";\n\n\nexport class MobileFooter extends React.Component {\n    state = { width: 0, height: 0 };\n    constructor(props) {\n        super(props);\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n    }\n\n    componentDidMount() {\n        this.updateWindowDimensions();\n        window.addEventListener('resize', this.updateWindowDimensions);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.updateWindowDimensions);\n    }\n\n    updateWindowDimensions() {\n        this.setState({ width: window.innerWidth, height: window.innerHeight });\n    }\n    \n    isMobile() {\n        if (this.state.width < '1001')\n            return true\n        else return false\n    }\n    render() {\n        return (\n            <div>\n                {this.isMobile()\n                    ? <div className=\"mobile-footer\">\n                        <div className=\"footer-icon-block\">\n                        <div className=\"footer-icon\"><Link to=\"/settings\"><SettingOutlined /></Link></div>\n                        <div className=\"footer-icon\"><UserOutlined /></div>\n                        <div className=\"footer-icon active\"><AppstoreOutlined /></div>\n                        <div className=\"footer-icon\"><NotificationIcon /></div>\n                        <div className=\"footer-icon\"><TeamOutlined /></div>\n                        </div>\n                    </div>\n                    : <span></span>\n                }\n            </div>\n        );\n\n    }\n\n}\n","import React from 'react';\nimport '../side-menu/side';\nimport {NotificationIcon} from '../notificationsIcon';\nimport {\n    Link\n} from \"react-router-dom\";\nimport {connect} from 'react-redux';\nimport {bindActionCreators} from 'redux';\nimport {search} from '../../actions';\nimport {PageHeader, Avatar, Card} from 'antd';\n\n\nconst {Meta} = Card;\n\nexport class HeaderMenu extends React.Component {\n    constructor(props) {\n        super(props);\n        this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n        this.state = {\n            width: 0,\n            us: ''\n        };\n    }\n\n    componentDidMount() {\n        this.updateWindowDimensions();\n        window.addEventListener('resize', this.updateWindowDimensions);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.updateWindowDimensions);\n    }\n\n    updateWindowDimensions() {\n        this.setState({width: window.innerWidth, height: window.innerHeight});\n    }\n\n    setTitle() {\n        if (window.location.pathname === '/dashboard')\n            return 'Dashboard'\n        if (window.location.pathname.includes('/notifications'))\n            return 'Notifications'\n        if (window.location.pathname === '/profile')\n            return 'Profile'\n        if (window.location.pathname === '/customer-service')\n            return 'Customer Service'\n    }\n\n    newAlerts() {\n        return '#88aeeb';\n    }\n\n    isMobile() {\n        if (this.state.width < '1001')\n            return true\n        else return false\n    }\n\n    mobileHeader = <div className=\"mobile-header\">\n        <div className=\"header-profile\"></div>\n        <div className=\"search\">\n            <input type=\"text\" placeholder=\" \"/>\n            <div>\n                <svg>\n                    <use xlinkHref=\"#path\"/>\n                </svg>\n            </div>\n        </div>\n\n        <svg xmlns=\"http://www.w3.org/2000/svg\" style={{display: 'none'}}>\n            <symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 158 26\" id=\"path\">\n                <path\n                    d=\"M32.9418651,-20.6880772 C37.9418651,-20.6880772 40.9418651,-16.6880772 40.9418651,-12.6880772 C40.9418651,-8.68807717 37.9418651,-4.68807717 32.9418651,-4.68807717 C27.9418651,-4.68807717 24.9418651,-8.68807717 24.9418651,-12.6880772 C24.9418651,-16.6880772 27.9418651,-20.6880772 32.9418651,-20.6880772 L32.9418651,-29.870624 C32.9418651,-30.3676803 33.3448089,-30.770624 33.8418651,-30.770624 C34.08056,-30.770624 34.3094785,-30.6758029 34.4782612,-30.5070201 L141.371843,76.386562\"\n                    transform=\"translate(83.156854, 22.171573) rotate(-225.000000) translate(-83.156854, -22.171573)\"></path>\n            </symbol>\n        </svg>\n    </div>;\n\n    // normalHeader =\n\n    render() {\n\n        return (\n            <div className=\"header-container\">\n                {this.isMobile()\n                    ? this.mobileHeader\n                    : <PageHeader className=\"site-page-header\"\n                                  extra={[<div className=\"header-alert\" key={0}><NotificationIcon/></div>,\n                                      // <div key={1} className=\"header-alert\">\n                                      //     <div className=\"search\">\n                                      //         <input id=\"search\" onChange={(event) => search(event.target.value)}\n                                      //                value={null} type=\"text\" placeholder=\" \"/>\n                                      //         <div>\n                                      //             <svg>\n                                      //                 <use xlinkHref=\"#path\"/>\n                                      //             </svg>\n                                      //         </div>\n                                      //     </div>\n                                      //\n                                      //     <svg xmlns=\"http://www.w3.org/2000/svg\" style={{display: 'none'}}>\n                                      //         <symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 158 26\" id=\"path\">\n                                      //             <path\n                                      //                 d=\"M32.9418651,-20.6880772 C37.9418651,-20.6880772 40.9418651,-16.6880772 40.9418651,-12.6880772 C40.9418651,-8.68807717 37.9418651,-4.68807717 32.9418651,-4.68807717 C27.9418651,-4.68807717 24.9418651,-8.68807717 24.9418651,-12.6880772 C24.9418651,-16.6880772 27.9418651,-20.6880772 32.9418651,-20.6880772 L32.9418651,-29.870624 C32.9418651,-30.3676803 33.3448089,-30.770624 33.8418651,-30.770624 C34.08056,-30.770624 34.3094785,-30.6758029 34.4782612,-30.5070201 L141.371843,76.386562\"\n                                      //                 transform=\"translate(83.156854, 22.171573) rotate(-225.000000) translate(-83.156854, -22.171573)\"/>\n                                      //         </symbol>\n                                      //     </svg>\n                                      // </div>,\n                                      <div key={2} className=\"vertical-divider\"/>,\n                                      <div key={3} style={{margin: 0}}>\n                                          <Card>\n                                              <Meta\n                                                  avatar={\n                                                      <Avatar src=\"./profile.jpg\"/>\n                                                  }\n                                                  description=\"test\"\n                                              />\n                                          </Card>\n                                      </div>\n                                  ]}\n                                  title={this.setTitle()}>\n                    </PageHeader>\n                }\n            </div>\n        );\n\n    }\n\n}\n","import { ADD_FETCHED_DATA, ADD_BOARD, ADD_HISTORY, ADD_LOCATION } from \"./actions\";\n\nconst initialState = {\n    devices: [],\n    device: [],\n    history: [],\n    location: [],\n    value: ''\n};\nexport default function stateReducer(state = initialState, action) {\n    switch (action.type) {\n        case ADD_FETCHED_DATA: {\n            return Object.assign({}, state, {\n                devices: action.payload\n            });\n        }\n        case ADD_BOARD: {\n            return Object.assign({}, state, {\n                device: action.payload\n            });\n        }\n        case ADD_HISTORY: {\n            return Object.assign({}, state, {\n                history: [...state.history, action.payload]\n            });\n        }\n        case ADD_LOCATION: {\n            return Object.assign({}, state, {\n                location: action.payload\n            });\n        }\n        default:\n            return state;\n    }\n}\n","import { combineReducers } from \"redux\";\nimport stateReducer from \"./stateReducer\";\nimport socketReducer from \"./socketReducer\";\n\nexport default combineReducers({\n    stateReducer\n});\n","import React from 'react';\nimport axios from 'axios';\nimport {withRouter} from \"react-router\";\nimport {SideMenu} from \"../side-menu/side\";\nimport {MobileFooter} from '../mobileFooter/footer';\nimport {HeaderMenu} from '../header/headerMenu';\nimport {LoadingOutlined} from '@ant-design/icons';\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\n\nimport rootReducer from \"../../rootReducer\";\nimport stateReducer from \"../../stateReducer\";\nconst store = createStore(\n    stateReducer,\n    applyMiddleware(thunk)\n);\n\nclass Auth extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            // user: undefined,\n            list: []\n        }\n    }\n\n    componentDidMount() {\n        const jwt = localStorage.getItem('ActFact token');\n        if (!jwt) {\n            window.location = \"/\";\n        }\n        axios.get(\"http://95.217.183.106:3000/userinfo\", {headers: {Authorization: 'Bearer ' + jwt}})\n            .then(res => this.setState({\n                user: res.data.name\n            })).catch(err => {\n            console.log(err);\n            localStorage.removeItem('ActFact token');\n        })\n    }\n\n    render() {\n        if (this.state.user === undefined) {\n            return (\n                <div style={{display: \"flex\", justifyContent: \"center\"}}><LoadingOutlined\n                    style={{position: \"absolute\", top: \"40%\", fontSize: \"64px\", margin: \"auto\"}}></LoadingOutlined>\n                </div>\n            )\n        }\n            return (\n                <div id='Logged in'>\n                    <Provider store={store}>\n                    <SideMenu/>\n                    <HeaderMenu/>\n                    {this.props.children}\n                    <MobileFooter/>\n                    </Provider>\n                </div>\n            )\n        }\n\n}\n\nexport default withRouter(Auth);\n","import React from 'react';\nimport Chart from 'chart.js';\nimport moment from 'moment';\nimport {connect} from \"react-redux\";\nimport {loadBoard, loadHistory} from \"../../actions\";\nimport {Card} from 'antd';\nimport '../notification/notification.css'\nimport {func} from \"prop-types\";\nimport socketIOClient from \"socket.io-client\";\n\nconst endpoint = 'http://95.217.183.106:3000';\nChart.defaults.global.defaultFontFamily = \"'Montserrat', sans-serif\";\n\nclass ComponentChart extends React.Component {\n    chartRef = React.createRef();\n\n    constructor() {\n        super();\n        this.state = {\n            data: [],\n            dataTime: [],\n            isInitialized: false\n        }\n    }\n\n\n    componentDidMount() {\n        // let currentdate = new Date();\n        // this.state.data.push(this.props.inputComponent.severity)\n        // this.state.dataTime.push(currentdate.getMinutes() + \":\"\n        //     + currentdate.getSeconds())\n        this.props.dispatch(loadHistory(this.props.inputComponent.id)).then(()=>{\n            if (!this.chartRef.current || this.state.isInitialized) {\n                return;\n            }\n            console.log(this.props.history)\n            this.props.history[0].data.map(item => {\n                this.state.data.push(item.severity)\n                this.state.dataTime.push(item.time.substring(11, 19))\n            })\n            const myChartRef = this.chartRef.current.getContext(\"2d\");\n            const {height: graphHeight} = myChartRef.canvas;\n            let gradientLine = myChartRef\n                .createLinearGradient(0, 0, 0, graphHeight);\n            gradientLine.addColorStop(0.91, \"rgba(255,208,208,0.3)\");\n            gradientLine.addColorStop(0.72, \"rgba(255,220,196,0.3)\");\n            gradientLine.addColorStop(0.6, \"rgba(253,239,211,0.3)\");\n            gradientLine.addColorStop(0.41, \"rgba(253,253,211,0.3)\");\n            gradientLine.addColorStop(0.2, \"rgba(242,253,211,0.3)\");\n            gradientLine.addColorStop(0, \"rgba(198,255,224,0.3)\");\n\n            this.myChart = new Chart(myChartRef, {\n                type: \"line\",\n                data: {\n                    labels: this.state.dataTime.slice(this.state.data.length - 10, this.state.data.length),\n                    datasets: [{\n                        label: \"Severity\",\n                        borderColor: \"rgba(57,81,120,0.8)\",\n                        pointBackgroundColor: 'white',\n                        borderWidth: 1,\n                        data: this.state.data.slice(this.state.data.length - 10, this.state.data.length),\n                        backgroundColor: gradientLine\n                    }],\n                },\n                options: {\n                    scales: {\n                        yAxes: [{\n                            ticks: {\n                                min: 1,\n                                max: 5,\n                                padding: 18\n                            }\n                        }],\n                        xAxes: [{\n                            ticks: {\n                                padding: 18\n                            }\n                        }]\n                    },\n                    responsive: true,\n                    maintainAspectRatio: false,\n                }\n            });\n        })\n\n        // this.props.dispatch(loadHistory(this.props.inputComponent.id));\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (prevProps.inputComponent !== this.props.inputComponent) {\n            // let currentdate = new Date();\n            //\n            // this.state.data.push(this.props.inputComponent.severity)\n            // this.state.dataTime.push(currentdate.getMinutes() + \":\" + currentdate.getSeconds())\n            // console.log(this.state.data)\n            // console.log(this.state.dataTime)\n\n            let socket;\n            if (window.location.pathname.includes(\"notifications\")) {\n                socket = socketIOClient(endpoint);\n                socket.on(\"Devices\", data => {\n                    this.props.dispatch(loadHistory(this.props.inputComponent.id)).then(()=>{\n                        this.myChart.data.labels = this.props.history.length === 15 ? this.state.dataTime : this.state.dataTime.slice(this.state.data.length - 10, this.state.data.length);\n                        this.myChart.data.datasets[0].data = this.state.data.length === 15 ? this.state.data : this.state.data.slice(this.state.data.length - 10, this.state.data.length);\n                        this.myChart.update({\n                            duration: 800,\n                            easing: 'easeInCubic'\n                        });\n                    })\n                })\n            }\n\n        }\n    }\n\n\n    // renders and returns the drawn the chart on the canvas\n    render() {\n        return (\n            <Card>\n                <canvas height='340'\n                        id=\"lineChart\"\n                        ref={this.chartRef}\n                />\n            </Card>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n\n    history: state.history\n\n})\nexport default connect(mapStateToProps)(ComponentChart);\n","import React from 'react';\nimport {Table, Checkbox} from 'antd';\nimport './notification.css';\nimport {connect} from \"react-redux\";\nimport {fetchData, loadBoard} from \"../../actions\";\nimport ComponentChart from \"../component-chart/component-chart\";\nimport socketIOClient from \"socket.io-client\";\n\nconst endpoint = 'http://95.217.183.106:3000';\n\nclass Notification extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            filteredComponents: [],\n            filterValues: [{label: \"Normal\", value: \"Normal\"},\n                {label: \"Warning\", value: \"Warning\"},\n                {label: \"Alert\", value: \"Alert\"}],\n            filterOn: false\n        }\n    }\n\n    async componentDidMount() {\n        this.props.dispatch(loadBoard(this.props.match.params.id))\n    }\n\n    async componentDidUpdate(prevState, prevProps) {\n        // console.log('data[0].state')\n        if (prevProps.device !== this.props.device) {\n            let socket;\n            if (window.location.pathname.includes(\"notifications\")) {\n                socket = socketIOClient(endpoint);\n                socket.on(\"Devices\", data => {\n                    this.props.dispatch(loadBoard(this.props.match.params.id))\n                })\n            }\n\n        }\n    }\n\n    render() {\n        let {device} = this.props;\n        let search = (event) => {\n            this.setState({\n                filterOn: true\n            })\n            let searchQuery = event.target.value.toLowerCase();\n            this.setState({\n                filteredComponents: device.state.filter(function (el) {\n                    let serchVal = el.state_name.toLowerCase();\n\n                    return serchVal.includes(searchQuery);\n                })\n            });\n        }\n\n        let filterComponents = (checkedValue) => {\n            this.setState({\n                filterOn: true\n            })\n\n            checkedValue.length === 3 || checkedValue.length === 0?\n                this.setState({\n                    filteredComponents: device.state\n                })\n                : checkedValue.length === 1 ?\n                this.setState({\n                    filteredComponents: checkedValue.includes(\"Normal\") ? device.state.filter(val => val.severity === 5) : checkedValue.includes(\"Alert\") ? device.state.filter(val => val.severity < 3) : device.state.filter(val => val.severity === 4 || val.severity === 3)\n                })\n                : this.setState({\n                    filteredComponents: checkedValue.includes(\"Normal\") && checkedValue.includes(\"Alert\") ? device.state.filter(val => val.severity === 5 || val.severity < 3) : checkedValue.includes(\"Alert\") && checkedValue.includes(\"Warning\") ? device.state.filter(val => val.severity < 5) : device.state.filter(val => val.severity > 2)\n                })\n        }\n\n        const columns = [\n            {\n                title: 'ID',\n                dataIndex: 'id',\n                key: 'id',\n            },\n            {\n                title: 'Sensor',\n                dataIndex: 'state_name',\n            },\n            {\n                title: 'Status',\n                dataIndex: 'active_rule',\n                render: (active_rule) => {\n                    if (active_rule.includes('off')) {\n                        return (<span>off</span>)\n                    } else return (<span>on</span>)\n                }\n            },\n            {\n                title: 'Message',\n                dataIndex: 'message',\n            },\n        ];\n\n        return (\n            <div className=\"navigation-wrapper\">\n                <div className=\"notification-container\">\n                    <div className=\"notifications-block\">\n                        <div className=\"filters-block\">\n                            <Checkbox.Group\n                                options={this.state.filterValues}\n                                onChange={filterComponents}></Checkbox.Group>\n                            <div className=\"header-alert\" style={{height: \"25px\"}}>\n                                <div className=\"search\">\n                                    <input id=\"search\" onChange={search}\n                                           value={null} type=\"text\" placeholder=\" \"/>\n                                    <div>\n                                        <svg>\n                                            <use xlinkHref=\"#path\"/>\n                                        </svg>\n                                    </div>\n                                </div>\n\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" style={{display: 'none'}}>\n                                    <symbol xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 158 26\" id=\"path\">\n                                        <path\n                                            d=\"M32.9418651,-20.6880772 C37.9418651,-20.6880772 40.9418651,-16.6880772 40.9418651,-12.6880772 C40.9418651,-8.68807717 37.9418651,-4.68807717 32.9418651,-4.68807717 C27.9418651,-4.68807717 24.9418651,-8.68807717 24.9418651,-12.6880772 C24.9418651,-16.6880772 27.9418651,-20.6880772 32.9418651,-20.6880772 L32.9418651,-29.870624 C32.9418651,-30.3676803 33.3448089,-30.770624 33.8418651,-30.770624 C34.08056,-30.770624 34.3094785,-30.6758029 34.4782612,-30.5070201 L141.371843,76.386562\"\n                                            transform=\"translate(83.156854, 22.171573) rotate(-225.000000) translate(-83.156854, -22.171573)\"/>\n                                    </symbol>\n                                </svg>\n                            </div>\n                        </div>\n                        <Table className=\"devices-table\"\n                               columns={columns}\n                               dataSource={this.state.filterOn ? this.state.filteredComponents : device.state}\n                               rowKey={({id}) => id}\n                               rowClassName={(record) =>\n                                   record.active_rule.includes(\"off\") && record.severity == 5 ? 'table-row-dark' : record.severity == 5 ? 'table-row-light' : record.severity > 2 ? 'table-row-warning' : 'table-row-alert'}\n                               expandable={{\n                                   expandedRowRender: (_, index) => <ComponentChart\n                                       inputComponent={this.props.device.state[index]}/>\n                               }}/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => ({\n\n    device: state.device\n\n})\nexport default connect(mapStateToProps)(Notification)\n","import React from 'react';\nimport axios from \"axios\";\nimport {Form, Input, Button, Select} from 'antd';\nimport {MailOutlined, UserOutlined} from '@ant-design/icons';\nimport {LoadingOutlined} from '@ant-design/icons';\nimport './customerService.css';\n\nconst {Option} = Select;\n\nconst validateMessages = {\n    required: '${label} is required!'\n};\n\nexport class CustomerService extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            name: undefined,\n            email: undefined,\n            deviceID: '',\n            message: '',\n            finished: false\n        }\n    }\n\n    componentDidMount() {\n        const jwt = localStorage.getItem('ActFact token');\n        axios.get(\"http://95.217.183.106:3000/userinfo\", {headers: {Authorization: 'Bearer ' + jwt}})\n            .then(res => this.setState({\n                name: res.data.name,\n                email: res.data.email\n            })).catch(err => {\n            console.log(err);\n        })\n    }\n\n    handleDeviceIDChange = (value) => {\n        this.setState({\n            deviceID: value\n        })\n    }\n\n    handleMessageChange = (event) => {\n        this.setState({\n            message: event.target.value\n        })\n    }\n\n    handleSubmit = () => {\n\n        const jwt = localStorage.getItem('ActFact token');\n        axios({\n            url: 'http://95.217.183.106:3000/contact',\n            method: 'post',\n            headers: {Authorization: 'Bearer ' + jwt},\n            data: {\n                name: this.state.email,\n                subject: this.state.deviceID,\n                message: this.state.message\n            }\n        }).then(res => {\n            this.setState({finished: true});\n            setTimeout(window.location = \"/customer-service\", 3000);\n        }).catch(err => {\n            console.log(err);\n        })\n    };\n\n    render() {\n        const {name, email, deviceID, message, finished} = this.state;\n        const onReset = () => {\n            window.location = \"/customer-service\"\n          };\n        if (name === undefined) {\n            return (\n                <div style={{display: \"flex\", justifyContent: \"center\"}}><LoadingOutlined\n                    style={{position: \"absolute\", top: \"40%\", fontSize: \"64px\", margin: \"auto\"}}></LoadingOutlined>\n                </div>\n            )\n        }\n        if(finished){\n            return (\n                <div className=\"success\">\n                    <h1 className=\"header_green\">Success</h1>\n                    <div>You will be redirected</div>\n                    <img src=\"./success-icon.png\" id=\"success_img\"></img>                    \n                </div>\n            )\n        }\n        return (\n            <div className=\"navigation-wrapper\">\n                <div className=\"service-container\">\n                    <div className=\"service-block\">\n                        <Form name=\"nest-messages\" validateMessages={validateMessages} onFinish={this.handleSubmit}\n                              className=\"c-service-form\"\n                              initialValues={{\n                                'name': name,\n                                'email': email,\n                              }}>\n                            <Form.Item name={['user', 'name']} label=\"Name\">\n                                <Input size=\"large\" type=\"text\" disabled defaultValue={name} suffix={<UserOutlined/>}/>\n                            </Form.Item>\n\n                            <Form.Item name={['user', 'email']} label=\"E-mail\">\n                                <Input size=\"large\" disabled defaultValue={email} suffix={<MailOutlined/>}/>\n                            </Form.Item>\n                            <div className=\"input_service\">                             \n                            <Form.Item name={['user', 'deviceID']} label=\"Device\" rules={[{required: true}]}>\n                                <Select id=\"select_device\" placeholder=\"Select device ID\" onChange={this.handleDeviceIDChange} >\n                                    <Option key={'1'} value={\"SD12321\"}>SD12321</Option>\n                                    <Option key={'0'} value={\"SY37fJ5\"}>SY37fJ5</Option>\n                                </Select>\n                            </Form.Item>\n                            </div>  \n\n                            <Form.Item name={['user', 'messsage']} label=\"Message\" rules={[{required: true}]}>\n                                <Input.TextArea placeholder='Type your question' id=\"user_message\" rows={2} type=\"text\" value={message}\n                                                onChange={this.handleMessageChange}/>\n                            </Form.Item>\n                            <div className=\"button_wrapper\">\n                            <Form.Item>\n                                <Button htmlType=\"button\" onClick={onReset} id=\"button_cancel\">Cancel</Button></Form.Item>\n                            <Form.Item>\n                                <Button type=\"primary\" htmlType=\"submit\" id=\"button_submit\">Submit</Button>\n                            </Form.Item>\n                            </div>\n                        </Form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"antd/dist/antd.css\";\nimport \"./index.css\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport {Route, Switch} from \"react-router\";\nimport { SignIn } from \"./components/signin/signin_page\";\nimport DashBoard from './components/dashboard/dashboard';\nimport { Profile } from './components/profile/profile';\nimport Auth from \"./components/auth_check/auth\";\nimport Notification from \"./components/notification/notification\";\nimport { CustomerService } from \"./components/customer-service/customerService\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <div className=\"App\">\n      <Switch>\n        <Route exact path=\"/\" component={SignIn} />\n        <Auth>\n          <Route path=\"/dashboard\" component={DashBoard} />\n          <Route path=\"/profile\" component={Profile} />\n          <Route path=\"/notifications/:id\" component={Notification} />\n          <Route path=\"/customer-service\" component={CustomerService}  />\n        </Auth>\n      </Switch>\n    </div>\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}